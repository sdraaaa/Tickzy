import{r as g,a as pr,R as fr,b as ns}from"./vendor-Bm7FCeSL.js";import{g as We,_ as gr,a as vr,b as br,c as yr,C as wr,r as Pt,i as as,p as jr,u as Nr,d as kr,S as Er,e as Cr,F as Lr,f as Sr,h as Tr,j as Rr,G as Ar,k as P,l as re,m as K,o as Dr,n as ke,T as U,s as _r,q as os,t as Br,v as Q,w as F,x as Fe,y as Y,z as X,A as Pr,B as Ze,D as Mr,E as Ir,H as Ur,I as is,J as Fr,K as Mt,L as bt,M as yt,N as zr}from"./firebase-vFL4YUSF.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var ls={exports:{}},qe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=g,Vr=Symbol.for("react.element"),$r=Symbol.for("react.fragment"),Hr=Object.prototype.hasOwnProperty,Wr=Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qr={key:!0,ref:!0,__self:!0,__source:!0};function cs(t,s,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),s.ref!==void 0&&(i=s.ref);for(n in s)Hr.call(s,n)&&!qr.hasOwnProperty(n)&&(a[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Vr,type:t,key:o,ref:i,props:a,_owner:Wr.current}}qe.Fragment=$r;qe.jsx=cs;qe.jsxs=cs;ls.exports=qe;var e=ls.exports,ds,It=pr;ds=It.createRoot,It.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Le(){return Le=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Le.apply(this,arguments)}var te;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(te||(te={}));const Ut="popstate";function Kr(t){t===void 0&&(t={});function s(n,a){let{pathname:o,search:i,hash:l}=n.location;return ct("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:hs(a)}return Jr(s,r,null,t)}function M(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function us(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Yr(){return Math.random().toString(36).substr(2,8)}function Ft(t,s){return{usr:t.state,key:t.key,idx:s}}function ct(t,s,r,n){return r===void 0&&(r=null),Le({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?ve(s):s,{state:r,key:s&&s.key||n||Yr()})}function hs(t){let{pathname:s="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function ve(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(s.search=t.substr(n),t=t.substr(0,n)),t&&(s.pathname=t)}return s}function Jr(t,s,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l=te.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(Le({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function m(){l=te.Pop;let w=h(),p=w==null?null:w-u;u=w,c&&c({action:l,location:y.location,delta:p})}function x(w,p){l=te.Push;let d=ct(y.location,w,p);u=h()+1;let b=Ft(d,u),j=y.createHref(d);try{i.pushState(b,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}o&&c&&c({action:l,location:y.location,delta:1})}function v(w,p){l=te.Replace;let d=ct(y.location,w,p);u=h();let b=Ft(d,u),j=y.createHref(d);i.replaceState(b,"",j),o&&c&&c({action:l,location:y.location,delta:0})}function f(w){let p=a.location.origin!=="null"?a.location.origin:a.location.href,d=typeof w=="string"?w:hs(w);return d=d.replace(/ $/,"%20"),M(p,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,p)}let y={get action(){return l},get location(){return t(a,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Ut,m),c=w,()=>{a.removeEventListener(Ut,m),c=null}},createHref(w){return s(a,w)},createURL:f,encodeLocation(w){let p=f(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:x,replace:v,go(w){return i.go(w)}};return y}var zt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zt||(zt={}));function Gr(t,s,r){return r===void 0&&(r="/"),Qr(t,s,r,!1)}function Qr(t,s,r,n){let a=typeof s=="string"?ve(s):s,o=ps(a.pathname||"/",r);if(o==null)return null;let i=ms(t);Xr(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=dn(o);l=ln(i[c],u,n)}return l}function ms(t,s,r,n){s===void 0&&(s=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(M(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=ie([n,c.relativePath]),h=r.concat(c);o.children&&o.children.length>0&&(M(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ms(o.children,s,h,u)),!(o.path==null&&!o.index)&&s.push({path:u,score:an(u,o.index),routesMeta:h})};return t.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of xs(o.path))a(o,i,c)}),s}function xs(t){let s=t.split("/");if(s.length===0)return[];let[r,...n]=s,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=xs(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Xr(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:on(s.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Zr=/^:[\w-]+$/,en=3,tn=2,sn=1,rn=10,nn=-2,Ot=t=>t==="*";function an(t,s){let r=t.split("/"),n=r.length;return r.some(Ot)&&(n+=nn),s&&(n+=tn),r.filter(a=>!Ot(a)).reduce((a,o)=>a+(Zr.test(o)?en:o===""?sn:rn),n)}function on(t,s){return t.length===s.length&&t.slice(0,-1).every((n,a)=>n===s[a])?t[t.length-1]-s[s.length-1]:0}function ln(t,s,r){let{routesMeta:n}=t,a={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,h=o==="/"?s:s.slice(o.length)||"/",m=Vt({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),x=c.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=Vt({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:ie([o,m.pathname]),pathnameBase:xn(ie([o,m.pathnameBase])),route:x}),m.pathnameBase!=="/"&&(o=ie([o,m.pathnameBase]))}return i}function Vt(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=cn(t.path,t.caseSensitive,t.end),a=s.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,h,m)=>{let{paramName:x,isOptional:v}=h;if(x==="*"){let y=l[m]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const f=l[m];return v&&!f?u[x]=void 0:u[x]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function cn(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),us(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,s?void 0:"i"),n]}function dn(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return us(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function ps(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function un(t,s){s===void 0&&(s="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?ve(t):t;return{pathname:r?r.startsWith("/")?r:hn(r,s):s,search:pn(n),hash:fn(a)}}function hn(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function et(t,s,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mn(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function fs(t,s){let r=mn(t);return s?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gs(t,s,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=ve(t):(a=Le({},t),M(!a.pathname||!a.pathname.includes("?"),et("?","pathname","search",a)),M(!a.pathname||!a.pathname.includes("#"),et("#","pathname","hash",a)),M(!a.search||!a.search.includes("#"),et("#","search","hash",a)));let o=t===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let m=s.length-1;if(!n&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),m-=1;a.pathname=x.join("/")}l=m>=0?s[m]:"/"}let c=un(a,l),u=i&&i!=="/"&&i.endsWith("/"),h=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const ie=t=>t.join("/").replace(/\/\/+/g,"/"),xn=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pn=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fn=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gn(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vs=["post","put","patch","delete"];new Set(vs);const vn=["get",...vs];new Set(vn);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Se(){return Se=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Se.apply(this,arguments)}const wt=g.createContext(null),bn=g.createContext(null),Re=g.createContext(null),Ke=g.createContext(null),ae=g.createContext({outlet:null,matches:[],isDataRoute:!1}),bs=g.createContext(null);function Ae(){return g.useContext(Ke)!=null}function be(){return Ae()||M(!1),g.useContext(Ke).location}function ys(t){g.useContext(Re).static||g.useLayoutEffect(t)}function $(){let{isDataRoute:t}=g.useContext(ae);return t?_n():yn()}function yn(){Ae()||M(!1);let t=g.useContext(wt),{basename:s,future:r,navigator:n}=g.useContext(Re),{matches:a}=g.useContext(ae),{pathname:o}=be(),i=JSON.stringify(fs(a,r.v7_relativeSplatPath)),l=g.useRef(!1);return ys(()=>{l.current=!0}),g.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=gs(u,JSON.parse(i),o,h.relative==="path");t==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:ie([s,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[s,n,i,o,t])}function wn(){let{matches:t}=g.useContext(ae),s=t[t.length-1];return s?s.params:{}}function jn(t,s){return Nn(t,s)}function Nn(t,s,r,n){Ae()||M(!1);let{navigator:a}=g.useContext(Re),{matches:o}=g.useContext(ae),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=be(),h;if(s){var m;let w=typeof s=="string"?ve(s):s;c==="/"||(m=w.pathname)!=null&&m.startsWith(c)||M(!1),h=w}else h=u;let x=h.pathname||"/",v=x;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let f=Gr(t,{pathname:v}),y=Sn(f&&f.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ie([c,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ie([c,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,r,n);return s&&y?g.createElement(Ke.Provider,{value:{location:Se({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:te.Pop}},y):y}function kn(){let t=Dn(),s=gn(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},s),r?g.createElement("pre",{style:a},r):null,null)}const En=g.createElement(kn,null);class Cn extends g.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?g.createElement(ae.Provider,{value:this.props.routeContext},g.createElement(bs.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ln(t){let{routeContext:s,match:r,children:n}=t,a=g.useContext(wt);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(ae.Provider,{value:s},n)}function Sn(t,s,r,n){var a;if(s===void 0&&(s=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let h=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||M(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<i.length;h++){let m=i[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:x,errors:v}=r,f=m.route.loader&&x[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||f){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,m,x)=>{let v,f=!1,y=null,w=null;r&&(v=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||En,c&&(u<0&&x===0?(f=!0,w=null):u===x&&(f=!0,w=m.route.hydrateFallbackElement||null)));let p=s.concat(i.slice(0,x+1)),d=()=>{let b;return v?b=y:f?b=w:m.route.Component?b=g.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=h,g.createElement(Ln,{match:m,routeContext:{outlet:h,matches:p,isDataRoute:r!=null},children:b})};return r&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?g.createElement(Cn,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:d(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):d()},null)}var ws=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ws||{}),ze=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ze||{});function Tn(t){let s=g.useContext(wt);return s||M(!1),s}function Rn(t){let s=g.useContext(bn);return s||M(!1),s}function An(t){let s=g.useContext(ae);return s||M(!1),s}function js(t){let s=An(),r=s.matches[s.matches.length-1];return r.route.id||M(!1),r.route.id}function Dn(){var t;let s=g.useContext(bs),r=Rn(ze.UseRouteError),n=js(ze.UseRouteError);return s!==void 0?s:(t=r.errors)==null?void 0:t[n]}function _n(){let{router:t}=Tn(ws.UseNavigateStable),s=js(ze.UseNavigateStable),r=g.useRef(!1);return ys(()=>{r.current=!0}),g.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Se({fromRouteId:s},o)))},[t,s])}function Bn(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function dt(t){let{to:s,replace:r,state:n,relative:a}=t;Ae()||M(!1);let{future:o,static:i}=g.useContext(Re),{matches:l}=g.useContext(ae),{pathname:c}=be(),u=$(),h=gs(s,fs(l,o.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(h);return g.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:a}),[u,m,a,r,n]),null}function G(t){M(!1)}function Pn(t){let{basename:s="/",children:r=null,location:n,navigationType:a=te.Pop,navigator:o,static:i=!1,future:l}=t;Ae()&&M(!1);let c=s.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:o,static:i,future:Se({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=ve(n));let{pathname:h="/",search:m="",hash:x="",state:v=null,key:f="default"}=n,y=g.useMemo(()=>{let w=ps(h,c);return w==null?null:{location:{pathname:w,search:m,hash:x,state:v,key:f},navigationType:a}},[c,h,m,x,v,f,a]);return y==null?null:g.createElement(Re.Provider,{value:u},g.createElement(Ke.Provider,{children:r,value:y}))}function Mn(t){let{children:s,location:r}=t;return jn(ut(s),r)}new Promise(()=>{});function ut(t,s){s===void 0&&(s=[]);let r=[];return g.Children.forEach(t,(n,a)=>{if(!g.isValidElement(n))return;let o=[...s,a];if(n.type===g.Fragment){r.push.apply(r,ut(n.props.children,o));return}n.type!==G&&M(!1),!n.props.index||!n.props.children||M(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ut(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ht(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let n=t[r];return s.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function In(t,s){let r=ht(t);return s&&s.forEach((n,a)=>{r.has(a)||s.getAll(a).forEach(o=>{r.append(a,o)})}),r}const Un="6";try{window.__reactRouterVersion=Un}catch{}const Fn="startTransition",$t=fr[Fn];function zn(t){let{basename:s,children:r,future:n,window:a}=t,o=g.useRef();o.current==null&&(o.current=Kr({window:a,v5Compat:!0}));let i=o.current,[l,c]=g.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},h=g.useCallback(m=>{u&&$t?$t(()=>c(m)):c(m)},[c,u]);return g.useLayoutEffect(()=>i.listen(h),[i,h]),g.useEffect(()=>Bn(n),[n]),g.createElement(Pn,{basename:s,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}var Ht;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ht||(Ht={}));var Wt;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Wt||(Wt={}));function On(t){let s=g.useRef(ht(t)),r=g.useRef(!1),n=be(),a=g.useMemo(()=>In(n.search,r.current?null:s.current),[n.search]),o=$(),i=g.useCallback((l,c)=>{const u=ht(typeof l=="function"?l(a):l);r.current=!0,o("?"+u,c)},[o,a]);return[a,i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="firebasestorage.googleapis.com",ks="storageBucket",Vn=2*60*1e3,$n=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B extends Lr{constructor(s,r,n=0){super(tt(s),`Firebase Storage: ${r} (${tt(s)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,B.prototype)}get status(){return this.status_}set status(s){this.status_=s}_codeEquals(s){return tt(s)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(s){this.customData.serverResponse=s,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_||(_={}));function tt(t){return"storage/"+t}function jt(){const t="An unknown error occurred, please check the error payload for server response.";return new B(_.UNKNOWN,t)}function Hn(t){return new B(_.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Wn(t){return new B(_.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qn(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new B(_.UNAUTHENTICATED,t)}function Kn(){return new B(_.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Yn(t){return new B(_.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Jn(){return new B(_.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Gn(){return new B(_.CANCELED,"User canceled the upload/download.")}function Qn(t){return new B(_.INVALID_URL,"Invalid URL '"+t+"'.")}function Xn(t){return new B(_.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Zn(){return new B(_.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ks+"' property when initializing the app?")}function ea(){return new B(_.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ta(){return new B(_.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function sa(t){return new B(_.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mt(t){return new B(_.INVALID_ARGUMENT,t)}function Es(){return new B(_.APP_DELETED,"The Firebase app was deleted.")}function ra(t){return new B(_.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ee(t,s){return new B(_.INVALID_FORMAT,"String does not match format '"+t+"': "+s)}function je(t){throw new B(_.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(s,r){this.bucket=s,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const s=encodeURIComponent;return"/b/"+s(this.bucket)+"/o/"+s(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(s,r){let n;try{n=V.makeFromUrl(s,r)}catch{return new V(s,"")}if(n.path==="")return n;throw Xn(s)}static makeFromUrl(s,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function o(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const i="(/(.*))?$",l=new RegExp("^gs://"+a+i,"i"),c={bucket:1,path:3};function u(j){j.path_=decodeURIComponent(j.path)}const h="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${h}/b/${a}/o${x}`,"i"),f={bucket:1,path:3},y=r===Ns?"(?:storage.googleapis.com|storage.cloud.google.com)":r,w="([^?#]*)",p=new RegExp(`^https?://${y}/${a}/${w}`,"i"),b=[{regex:l,indices:c,postModify:o},{regex:v,indices:f,postModify:u},{regex:p,indices:{bucket:1,path:2},postModify:u}];for(let j=0;j<b.length;j++){const k=b[j],N=k.regex.exec(s);if(N){const C=N[k.indices.bucket];let R=N[k.indices.path];R||(R=""),n=new V(C,R),k.postModify(n);break}}if(n==null)throw Qn(s);return n}}class na{constructor(s){this.promise_=Promise.reject(s)}getPromise(){return this.promise_}cancel(s=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,s,r){let n=1,a=null,o=null,i=!1,l=0;function c(){return l===2}let u=!1;function h(...w){u||(u=!0,s.apply(null,w))}function m(w){a=setTimeout(()=>{a=null,t(v,c())},w)}function x(){o&&clearTimeout(o)}function v(w,...p){if(u){x();return}if(w){x(),h.call(null,w,...p);return}if(c()||i){x(),h.call(null,w,...p);return}n<64&&(n*=2);let b;l===1?(l=2,b=0):b=(n+Math.random())*1e3,m(b)}let f=!1;function y(w){f||(f=!0,x(),!u&&(a!==null?(w||(l=2),clearTimeout(a),m(0)):w||(l=1)))}return m(0),o=setTimeout(()=>{i=!0,y(!0)},r),y}function oa(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){return t!==void 0}function la(t){return typeof t=="object"&&!Array.isArray(t)}function Nt(t){return typeof t=="string"||t instanceof String}function qt(t){return kt()&&t instanceof Blob}function kt(){return typeof Blob<"u"}function Kt(t,s,r,n){if(n<s)throw mt(`Invalid value for '${t}'. Expected ${s} or greater.`);if(n>r)throw mt(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,s,r){let n=s;return r==null&&(n=`https://${s}`),`${r}://${n}/v0${t}`}function Cs(t){const s=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const a=s(n)+"="+s(t[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var le;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(le||(le={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t,s){const r=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,o=s.indexOf(t)!==-1;return r||a||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(s,r,n,a,o,i,l,c,u,h,m,x=!0,v=!1){this.url_=s,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=m,this.retry=x,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,y)=>{this.resolve_=f,this.reject_=y,this.start_()})}start_(){const s=(n,a)=>{if(a){n(!1,new Be(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const i=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(i),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(i),this.pendingConnection_=null;const l=o.getErrorCode()===le.NO_ERROR,c=o.getStatus();if(!l||ca(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===le.ABORT;n(!1,new Be(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new Be(u,o))})},r=(n,a)=>{const o=this.resolve_,i=this.reject_,l=a.connection;if(a.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());ia(c)?o(c):o()}catch(c){i(c)}else if(l!==null){const c=jt();c.serverResponse=l.getErrorText(),this.errorCallback_?i(this.errorCallback_(l,c)):i(c)}else if(a.canceled){const c=this.appDelete_?Es():Gn();i(c)}else{const c=Jn();i(c)}};this.canceled_?r(!1,new Be(!1,null,!0)):this.backoffId_=aa(s,r,this.timeout_)}getPromise(){return this.promise_}cancel(s){this.canceled_=!0,this.appDelete_=s||!1,this.backoffId_!==null&&oa(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Be{constructor(s,r,n){this.wasSuccessCode=s,this.connection=r,this.canceled=!!n}}function ua(t,s){s!==null&&s.length>0&&(t.Authorization="Firebase "+s)}function ha(t,s){t["X-Firebase-Storage-Version"]="webjs/"+(s??"AppManager")}function ma(t,s){s&&(t["X-Firebase-GMPID"]=s)}function xa(t,s){s!==null&&(t["X-Firebase-AppCheck"]=s)}function pa(t,s,r,n,a,o,i=!0,l=!1){const c=Cs(t.urlParams),u=t.url+c,h=Object.assign({},t.headers);return ma(h,s),ua(h,r),ha(h,o),xa(h,n),new da(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ga(...t){const s=fa();if(s!==void 0){const r=new s;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(kt())return new Blob(t);throw new B(_.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function va(t,s,r){return t.webkitSlice?t.webkitSlice(s,r):t.mozSlice?t.mozSlice(s,r):t.slice?t.slice(s,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t){if(typeof atob>"u")throw sa("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class st{constructor(s,r){this.data=s,this.contentType=r||null}}function ya(t,s){switch(t){case q.RAW:return new st(Ls(s));case q.BASE64:case q.BASE64URL:return new st(Ss(t,s));case q.DATA_URL:return new st(ja(s),Na(s))}throw jt()}function Ls(t){const s=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)s.push(n);else if(n<=2047)s.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))s.push(239,191,189);else{const o=n,i=t.charCodeAt(++r);n=65536|(o&1023)<<10|i&1023,s.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?s.push(239,191,189):s.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(s)}function wa(t){let s;try{s=decodeURIComponent(t)}catch{throw Ee(q.DATA_URL,"Malformed data URL.")}return Ls(s)}function Ss(t,s){switch(t){case q.BASE64:{const a=s.indexOf("-")!==-1,o=s.indexOf("_")!==-1;if(a||o)throw Ee(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case q.BASE64URL:{const a=s.indexOf("+")!==-1,o=s.indexOf("/")!==-1;if(a||o)throw Ee(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");s=s.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=ba(s)}catch(a){throw a.message.includes("polyfill")?a:Ee(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}class Ts{constructor(s){this.base64=!1,this.contentType=null;const r=s.match(/^data:([^,]+)?,/);if(r===null)throw Ee(q.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=ka(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=s.substring(s.indexOf(",")+1)}}function ja(t){const s=new Ts(t);return s.base64?Ss(q.BASE64,s.rest):wa(s.rest)}function Na(t){return new Ts(t).contentType}function ka(t,s){return t.length>=s.length?t.substring(t.length-s.length)===s:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(s,r){let n=0,a="";qt(s)?(this.data_=s,n=s.size,a=s.type):s instanceof ArrayBuffer?(r?this.data_=new Uint8Array(s):(this.data_=new Uint8Array(s.byteLength),this.data_.set(new Uint8Array(s))),n=this.data_.length):s instanceof Uint8Array&&(r?this.data_=s:(this.data_=new Uint8Array(s.length),this.data_.set(s)),n=s.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(s,r){if(qt(this.data_)){const n=this.data_,a=va(n,s,r);return a===null?null:new Z(a)}else{const n=new Uint8Array(this.data_.buffer,s,r-s);return new Z(n,!0)}}static getBlob(...s){if(kt()){const r=s.map(n=>n instanceof Z?n.data_:n);return new Z(ga.apply(null,r))}else{const r=s.map(i=>Nt(i)?ya(q.RAW,i).data:i.data_);let n=0;r.forEach(i=>{n+=i.byteLength});const a=new Uint8Array(n);let o=0;return r.forEach(i=>{for(let l=0;l<i.length;l++)a[o++]=i[l]}),new Z(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t){let s;try{s=JSON.parse(t)}catch{return null}return la(s)?s:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t){if(t.length===0)return null;const s=t.lastIndexOf("/");return s===-1?"":t.slice(0,s)}function Ca(t,s){const r=s.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function As(t){const s=t.lastIndexOf("/",t.length-2);return s===-1?t:t.slice(s+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t,s){return s}class O{constructor(s,r,n,a){this.server=s,this.local=r||s,this.writable=!!n,this.xform=a||La}}let Pe=null;function Sa(t){return!Nt(t)||t.length<2?t:As(t)}function Ds(){if(Pe)return Pe;const t=[];t.push(new O("bucket")),t.push(new O("generation")),t.push(new O("metageneration")),t.push(new O("name","fullPath",!0));function s(o,i){return Sa(i)}const r=new O("name");r.xform=s,t.push(r);function n(o,i){return i!==void 0?Number(i):i}const a=new O("size");return a.xform=n,t.push(a),t.push(new O("timeCreated")),t.push(new O("updated")),t.push(new O("md5Hash",null,!0)),t.push(new O("cacheControl",null,!0)),t.push(new O("contentDisposition",null,!0)),t.push(new O("contentEncoding",null,!0)),t.push(new O("contentLanguage",null,!0)),t.push(new O("contentType",null,!0)),t.push(new O("metadata","customMetadata",!0)),Pe=t,Pe}function Ta(t,s){function r(){const n=t.bucket,a=t.fullPath,o=new V(n,a);return s._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:r})}function Ra(t,s,r){const n={};n.type="file";const a=r.length;for(let o=0;o<a;o++){const i=r[o];n[i.local]=i.xform(n,s[i.server])}return Ta(n,t),n}function _s(t,s,r){const n=Rs(s);return n===null?null:Ra(t,n,r)}function Aa(t,s,r,n){const a=Rs(s);if(a===null||!Nt(a.downloadTokens))return null;const o=a.downloadTokens;if(o.length===0)return null;const i=encodeURIComponent;return o.split(",").map(u=>{const h=t.bucket,m=t.fullPath,x="/b/"+i(h)+"/o/"+i(m),v=Et(x,r,n),f=Cs({alt:"media",token:u});return v+f})[0]}function Da(t,s){const r={},n=s.length;for(let a=0;a<n;a++){const o=s[a];o.writable&&(r[o.server]=t[o.local])}return JSON.stringify(r)}class Bs{constructor(s,r,n,a){this.url=s,this.method=r,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t){if(!t)throw jt()}function _a(t,s){function r(n,a){const o=_s(t,a,s);return Ps(o!==null),o}return r}function Ba(t,s){function r(n,a){const o=_s(t,a,s);return Ps(o!==null),Aa(o,a,t.host,t._protocol)}return r}function Ms(t){function s(r,n){let a;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?a=Kn():a=qn():r.getStatus()===402?a=Wn(t.bucket):r.getStatus()===403?a=Yn(t.path):a=n,a.status=r.getStatus(),a.serverResponse=n.serverResponse,a}return s}function Pa(t){const s=Ms(t);function r(n,a){let o=s(n,a);return n.getStatus()===404&&(o=Hn(t.path)),o.serverResponse=a.serverResponse,o}return r}function Ma(t,s,r){const n=s.fullServerUrl(),a=Et(n,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,l=new Bs(a,o,Ba(t,r),i);return l.errorHandler=Pa(s),l}function Ia(t,s){return t&&t.contentType||s&&s.type()||"application/octet-stream"}function Ua(t,s,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=s.size(),n.contentType||(n.contentType=Ia(null,s)),n}function Fa(t,s,r,n,a){const o=s.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function l(){let b="";for(let j=0;j<2;j++)b=b+Math.random().toString().slice(2);return b}const c=l();i["Content-Type"]="multipart/related; boundary="+c;const u=Ua(s,n,a),h=Da(u,r),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,x=`\r
--`+c+"--",v=Z.getBlob(m,n,x);if(v===null)throw ea();const f={name:u.fullPath},y=Et(o,t.host,t._protocol),w="POST",p=t.maxUploadRetryTime,d=new Bs(y,w,_a(t,r),p);return d.urlParams=f,d.headers=i,d.body=v.uploadData(),d.errorHandler=Ms(s),d}class za{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=le.NO_ERROR,this.sendPromise_=new Promise(s=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=le.ABORT,s()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=le.NETWORK_ERROR,s()}),this.xhr_.addEventListener("load",()=>{s()})})}send(s,r,n,a,o){if(this.sent_)throw je("cannot .send() more than once");if(as(s)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,s,!0),o!==void 0)for(const i in o)o.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,o[i].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw je("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw je("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw je("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw je("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(s){return this.xhr_.getResponseHeader(s)}addUploadProgressListener(s){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",s)}removeUploadProgressListener(s){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",s)}}class Oa extends za{initXhr(){this.xhr_.responseType="text"}}function Is(){return new Oa}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(s,r){this._service=s,r instanceof V?this._location=r:this._location=V.makeFromUrl(r,s.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(s,r){return new ce(s,r)}get root(){const s=new V(this._location.bucket,"");return this._newRef(this._service,s)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return As(this._location.path)}get storage(){return this._service}get parent(){const s=Ea(this._location.path);if(s===null)return null;const r=new V(this._location.bucket,s);return new ce(this._service,r)}_throwIfRoot(s){if(this._location.path==="")throw ra(s)}}function Va(t,s,r){t._throwIfRoot("uploadBytes");const n=Fa(t.storage,t._location,Ds(),new Z(s,!0),r);return t.storage.makeRequestWithTokens(n,Is).then(a=>({metadata:a,ref:t}))}function $a(t){t._throwIfRoot("getDownloadURL");const s=Ma(t.storage,t._location,Ds());return t.storage.makeRequestWithTokens(s,Is).then(r=>{if(r===null)throw ta();return r})}function Ha(t,s){const r=Ca(t._location.path,s),n=new V(t._location.bucket,r);return new ce(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){return/^[A-Za-z]+:\/\//.test(t)}function qa(t,s){return new ce(t,s)}function Us(t,s){if(t instanceof Ct){const r=t;if(r._bucket==null)throw Zn();const n=new ce(r,r._bucket);return s!=null?Us(n,s):n}else return s!==void 0?Ha(t,s):t}function Ka(t,s){if(s&&Wa(s)){if(t instanceof Ct)return qa(t,s);throw mt("To use ref(service, url), the first argument must be a Storage instance.")}else return Us(t,s)}function Yt(t,s){const r=s==null?void 0:s[ks];return r==null?null:V.makeFromBucketSpec(r,t)}function Ya(t,s,r,n={}){t.host=`${s}:${r}`;const a=as(s);a&&(jr(`https://${t.host}/b`),Nr("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:o}=n;o&&(t._overrideAuthToken=typeof o=="string"?o:kr(o,t.app.options.projectId))}class Ct{constructor(s,r,n,a,o,i=!1){this.app=s,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=i,this._bucket=null,this._host=Ns,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Vn,this._maxUploadRetryTime=$n,this._requests=new Set,a!=null?this._bucket=V.makeFromBucketSpec(a,this._host):this._bucket=Yt(this._host,this.app.options)}get host(){return this._host}set host(s){this._host=s,this._url!=null?this._bucket=V.makeFromBucketSpec(this._url,s):this._bucket=Yt(s,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(s){Kt("time",0,Number.POSITIVE_INFINITY,s),this._maxUploadRetryTime=s}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(s){Kt("time",0,Number.POSITIVE_INFINITY,s),this._maxOperationRetryTime=s}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const s=this._authProvider.getImmediate({optional:!0});if(s){const r=await s.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=this._appCheckProvider.getImmediate({optional:!0});return s?(await s.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(s=>s.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(s){return new ce(this,s)}_makeRequest(s,r,n,a,o=!0){if(this._deleted)return new na(Es());{const i=pa(s,this._appId,n,a,r,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(s,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(s,r,n,a).getPromise()}}const Jt="@firebase/storage",Gt="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="storage";function Ja(t,s,r){return t=We(t),Va(t,s,r)}function Ga(t){return t=We(t),$a(t)}function Qa(t,s){return t=We(t),Ka(t,s)}function Xa(t=br(),s){t=We(t);const n=gr(t,Fs).getImmediate({identifier:s}),a=vr("storage");return a&&Za(n,...a),n}function Za(t,s,r,n={}){Ya(t,s,r,n)}function eo(t,{instanceIdentifier:s}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Ct(r,n,a,s,Er)}function to(){yr(new wr(Fs,eo,"PUBLIC").setMultipleInstances(!0)),Pt(Jt,Gt,""),Pt(Jt,Gt,"esm2017")}to();const so={apiKey:"AIzaSyALIVaf8gwwzKOkCfEUBlMxgeDBW8sUicU",authDomain:"tickzy-e986b.firebaseapp.com",projectId:"tickzy-e986b",storageBucket:"tickzy-e986b.firebasestorage.app",messagingSenderId:"304409562549",appId:"1:304409562549:web:19b4c2d6210e12d56b9dfc"};let Me,W,T,Oe,ee;try{Me=Sr(so),W=Tr(Me),T=Rr(Me),Oe=Xa(Me),ee=new Ar,ee.setCustomParameters({prompt:"select_account",hd:void 0}),ee.addScope("email"),ee.addScope("profile")}catch(t){console.error("Firebase initialization error:",t),W=null,T=null,Oe=null,ee=null}class De{constructor(s=0,r="Network Error"){this.status=s,this.text=r}}const ro=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,s)=>Promise.resolve(localStorage.setItem(t,s)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},z={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ro()},Lt=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},no=(t,s="https://api.emailjs.com")=>{if(!t)return;const r=Lt(t);z.publicKey=r.publicKey,z.blockHeadless=r.blockHeadless,z.storageProvider=r.storageProvider,z.blockList=r.blockList,z.limitRate=r.limitRate,z.origin=r.origin||s},zs=async(t,s,r={})=>{const n=await fetch(z.origin+t,{method:"POST",headers:r,body:s}),a=await n.text(),o=new De(n.status,a);if(n.ok)return o;throw o},Os=(t,s,r)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s||typeof s!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},ao=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Vs=t=>t.webdriver||!t.languages||t.languages.length===0,$s=()=>new De(451,"Unavailable For Headless Browser"),oo=(t,s)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof s!="string")throw"The BlockList watchVariable has to be a string"},io=t=>{var s;return!((s=t.list)!=null&&s.length)||!t.watchVariable},lo=(t,s)=>t instanceof FormData?t.get(s):t[s],Hs=(t,s)=>{if(io(t))return!1;oo(t.list,t.watchVariable);const r=lo(s,t.watchVariable);return typeof r!="string"?!1:t.list.includes(r)},Ws=()=>new De(403,"Forbidden"),co=(t,s)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(s&&typeof s!="string")throw"The LimitRate ID has to be a non-empty string"},uo=async(t,s,r)=>{const n=Number(await r.get(t)||0);return s-Date.now()+n},qs=async(t,s,r)=>{if(!s.throttle||!r)return!1;co(s.throttle,s.id);const n=s.id||t;return await uo(n,s.throttle,r)>0?!0:(await r.set(n,Date.now().toString()),!1)},Ks=()=>new De(429,"Too Many Requests"),ho=async(t,s,r,n)=>{const a=Lt(n),o=a.publicKey||z.publicKey,i=a.blockHeadless||z.blockHeadless,l=a.storageProvider||z.storageProvider,c={...z.blockList,...a.blockList},u={...z.limitRate,...a.limitRate};return i&&Vs(navigator)?Promise.reject($s()):(Os(o,t,s),ao(r),r&&Hs(c,r)?Promise.reject(Ws()):await qs(location.pathname,u,l)?Promise.reject(Ks()):zs("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:o,service_id:t,template_id:s,template_params:r}),{"Content-type":"application/json"}))},mo=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},xo=t=>typeof t=="string"?document.querySelector(t):t,po=async(t,s,r,n)=>{const a=Lt(n),o=a.publicKey||z.publicKey,i=a.blockHeadless||z.blockHeadless,l=z.storageProvider||a.storageProvider,c={...z.blockList,...a.blockList},u={...z.limitRate,...a.limitRate};if(i&&Vs(navigator))return Promise.reject($s());const h=xo(r);Os(o,t,s),mo(h);const m=new FormData(h);return Hs(c,m)?Promise.reject(Ws()):await qs(location.pathname,u,l)?Promise.reject(Ks()):(m.append("lib_version","4.4.1"),m.append("service_id",t),m.append("template_id",s),m.append("user_id",o),zs("/api/v1.0/email/send-form",m))},Ne={init:no,send:ho,sendForm:po,EmailJSResponseStatus:De},ue="service_tvda6av",Qt="template_gan12wr",Xt="template_ws38ejj",xt="W3q7yQau2TSYWOSI5";Ne.init(xt);class he{constructor(){}static getInstance(){return he.instance||(he.instance=new he),he.instance}async sendWelcomeEmail(s){try{const r={to_email:s.userEmail,email:s.userEmail,user_email:s.userEmail,recipient_email:s.userEmail,to_name:s.userName||"User",name:s.userName||"User",user_name:s.userName||"User",recipient_name:s.userName||"User",from_name:"Tickzy",message:"Welcome to Tickzy! Thank you for joining our platform.",subject:"Welcome to Tickzy!",reply_to:"support@tickzy.com",company:"Tickzy"},n=await Ne.send(ue,Qt,r);return n.status===200?!0:(console.error("Failed to send welcome email:",n),!1)}catch(r){return console.error(" EmailJS Error Details:",{error:r,status:r.status,text:r.text,message:r.message}),r.text&&console.error(" EmailJS Error Text:",r.text),!1}}async hasWelcomeEmailBeenSent(s){try{if(!T)return!1;const r=P(T,"users",s),n=await re(r);return n.exists()?n.data().welcomeEmailSent===!0:!1}catch(r){return console.error("Error checking welcome email status:",r),!1}}async markWelcomeEmailSent(s){try{if(!T)return;const r=P(T,"users",s);await K(r,{welcomeEmailSent:!0,welcomeEmailSentAt:new Date,updatedAt:new Date}),console.log(" Marked welcome email as sent for user:",s)}catch(r){console.error(" Error marking welcome email as sent:",r)}}async sendWelcomeEmailIfNeeded(s,r,n){try{if(await this.hasWelcomeEmailBeenSent(s)){console.log(" Welcome email already sent to user:",r);return}await this.sendWelcomeEmail({userEmail:r,userName:n,userFirstName:n.split(" ")[0]})?(await this.markWelcomeEmailSent(s),console.log(" Welcome email process completed for:",r)):console.error(" Failed to send welcome email to:",r)}catch(a){console.error(" Error in welcome email process:",a)}}async sendEventNotification(s,r,n,a,o){try{const i={to_email:s,to_name:r,event_title:n,event_date:a,event_location:o,platform_name:"Tickzy",dashboard_url:`${window.location.origin}/dashboard`};return(await Ne.send(ue,"template_event_notification",i)).status===200}catch(i){return console.error("Error sending event notification:",i),!1}}async sendHostApprovalNotification(s,r){try{const n={to_email:s,to_name:r,platform_name:"Tickzy",dashboard_url:`${window.location.origin}/dashboard`,create_event_url:`${window.location.origin}/create-event`};return(await Ne.send(ue,"template_host_approval",n)).status===200}catch(n){return console.error("Error sending host approval notification:",n),!1}}async sendBookingConfirmationEmail(s){var r,n;try{if(!s.userEmail||!s.userName)return console.error(" Missing required email data:",{userEmail:s.userEmail,userName:s.userName}),!1;const a={to_email:s.userEmail,email:s.userEmail,user_email:s.userEmail,recipient_email:s.userEmail,to_name:s.userName,name:s.userName,user_name:s.userName,recipient_name:s.userName,event_title:s.eventTitle,event_name:s.eventTitle,event_date:s.eventDate,event_time:s.eventTime,event_location:s.eventLocation,event_venue:s.eventLocation,booking_id:s.bookingId,ticket_count:String(s.ticketCount),total_amount:String(s.totalAmount),total_price:`$${s.totalAmount}`,qr_code:s.qrCode||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==",from_name:"Tickzy",platform_name:"Tickzy",company:"Tickzy",subject:`Booking Confirmation - ${s.eventTitle}`,message:`Your booking for ${s.eventTitle} has been confirmed! Booking ID: ${s.bookingId}`,dashboard_url:"http://localhost:3000/dashboard",support_email:"support@tickzy.com",reply_to:"support@tickzy.com"};console.log(" Sending booking confirmation email to:",s.userEmail),console.log(" QR Code data length:",((r=s.qrCode)==null?void 0:r.length)||0),console.log(" QR Code preview:",((n=s.qrCode)==null?void 0:n.substring(0,100))+"..."),console.log(" Template params:",a);const o=await Ne.send(ue,Xt,a);return o.status===200?(console.log(" Booking confirmation email sent successfully"),!0):(console.error(" Failed to send booking confirmation email:",o),!1)}catch(a){return console.error(" EmailJS Booking Confirmation Error:",{error:a,status:a.status,text:a.text,message:a.message}),!1}}}const Ys=he.getInstance(),Js=g.createContext(void 0),I=()=>{const t=g.useContext(Js);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},fo=({children:t})=>{const[s,r]=g.useState(null),[n,a]=g.useState(null),[o,i]=g.useState(!0),[l,c]=g.useState(null),u=async d=>{var b,j;if(!d.email||!T)return null;try{const k=P(T,"users",d.uid),N=await re(k);if(N.exists()){const C=N.data();return h(d,C)&&await m(d,C),C}else{const C=((j=(b=d.providerData)==null?void 0:b[0])==null?void 0:j.providerId)==="google.com",R={uid:d.uid,email:d.email,role:"user",isVerified:!0,createdAt:U.now(),displayName:d.displayName||"",photoURL:d.photoURL||"",provider:C?"google":"email",welcomeEmailSent:!1};return await _r(k,R),(C||d.emailVerified)&&await m(d,R),R}}catch(k){return console.error("Error creating/getting user document:",k),c("Failed to access user data. Please try again later."),null}},h=(d,b)=>{var C,R;const j=((R=(C=d.providerData)==null?void 0:C[0])==null?void 0:R.providerId)==="google.com",k=d.emailVerified,N=!b.welcomeEmailSent;return(j||k)&&N},m=async(d,b)=>{try{await Ys.sendWelcomeEmailIfNeeded(d.uid,d.email||"",d.displayName||b.displayName||"New User")}catch(j){console.error("Error sending welcome email:",j)}},x=async()=>{if(!s)return!1;try{return await os(s),s.emailVerified}catch(d){return console.error("Error checking email verification:",d),!1}},v=()=>{var b,j;return s?((j=(b=s.providerData)==null?void 0:b[0])==null?void 0:j.providerId)==="google.com"||s.emailVerified:!1},f=()=>{var b,j;return s?!(((j=(b=s.providerData)==null?void 0:b[0])==null?void 0:j.providerId)==="google.com")&&!s.emailVerified:!1},y=async()=>{if(s)try{const d=P(T,"users",s.uid),b=await re(d);b.exists()&&a(b.data())}catch(d){console.error("Error refreshing user data:",d)}},w=async()=>{if(!W){console.warn("Firebase auth not initialized");return}try{await Br(W),r(null),a(null),c(null)}catch(d){throw console.error("Error signing out:",d),d}};g.useEffect(()=>{if(!W){console.warn("Firebase auth not initialized, skipping auth state listener"),i(!1);return}let d=null;const b=Dr(W,async j=>{i(!0),c(null),d&&(d(),d=null);try{if(j){r(j);const k=await u(j);a(k);const N=P(T,"users",j.uid);d=ke(N,C=>{C.exists()&&a(C.data())},C=>{console.error("Error listening to user document:",C)})}else r(null),a(null)}catch(k){console.error("Error in auth state change:",k),c("Authentication error. Please refresh the page."),r(null),a(null)}i(!1)});return()=>{b(),d&&d()}},[]);const p={user:s,userData:n,loading:o,logout:w,refreshUserData:y,checkEmailVerification:x,isEmailVerified:v,needsEmailVerification:f};return e.jsxs(Js.Provider,{value:p,children:[l&&e.jsx("div",{className:"fixed top-4 right-4 bg-red-600 text-white p-4 rounded-lg shadow-lg z-50 max-w-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:l}),e.jsx("button",{onClick:()=>c(null),className:"ml-2 text-white hover:text-gray-200",children:""})]})}),t]})},rt=({children:t})=>{const{user:s,userData:r,loading:n}=I();return n?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading..."})]})}):s?e.jsx(e.Fragment,{children:t}):e.jsx(dt,{to:"/login",replace:!0})},Zt=({children:t,redirectTo:s="/dashboard"})=>{const{user:r,userData:n,loading:a,needsEmailVerification:o}=I();return a?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading..."})]})}):r&&n?o()?e.jsx(dt,{to:"/verify-email",replace:!0}):e.jsx(dt,{to:s,replace:!0}):e.jsx(e.Fragment,{children:t})},St=()=>{const[t,s]=g.useState(!1),r=$(),{user:n}=I(),a=()=>{n?(r("/dashboard"),setTimeout(()=>{const o=document.getElementById("hero-banner");o?o.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})},100)):(r("/"),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100))};return e.jsxs("nav",{className:"bg-neutral-900 border-b border-gray-800 sticky top-0 z-50",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:a,className:"text-2xl font-bold text-white tracking-wide hover:text-purple-400 transition-colors duration-200",children:"Tickzy"})}),e.jsx("div",{className:"hidden md:flex items-center space-x-8",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>r("/explore-events"),className:"text-gray-300 hover:text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:"Explore Events"}),e.jsx("button",{onClick:()=>r("/login"),className:"text-gray-300 hover:text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:"Login"}),e.jsx("button",{onClick:()=>r("/login"),className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white px-6 py-2 rounded-full text-sm font-medium transition-all duration-200 transform hover:scale-105",children:"Sign Up"})]})}),e.jsx("div",{className:"md:hidden flex items-center",children:e.jsx("button",{onClick:()=>s(!t),className:"text-gray-400 hover:text-white p-2",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),t&&e.jsx("div",{className:"md:hidden bg-neutral-800 border-t border-gray-700",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[e.jsx("button",{onClick:()=>{r("/"),s(!1)},className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200",children:"Home"}),e.jsx("button",{onClick:()=>{r("/explore"),s(!1)},className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200",children:"Explore"}),e.jsx("button",{onClick:()=>{r("/about"),s(!1)},className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200",children:"About"}),e.jsxs("div",{className:"border-t border-gray-700 pt-4 mt-4 space-y-2",children:[e.jsx("button",{onClick:()=>{r("/login"),s(!1)},className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200",children:"Login"}),e.jsx("button",{onClick:()=>{r("/login"),s(!1)},className:"block w-full bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white px-3 py-2 rounded-md text-base font-medium transition-all duration-200",children:"Sign Up"})]})]})})]})},Gs=({isAuthenticated:t=!1,showButtons:s=!0})=>{var a;const r=$(),{user:n}=I();return e.jsxs("section",{id:"hero-banner",className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)"}}),e.jsx("div",{className:"absolute inset-0 bg-black/60"}),e.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-6xl sm:text-7xl lg:text-8xl font-bold text-white mb-8 tracking-tight",children:"Tickzy"}),e.jsx("p",{className:"text-xl sm:text-2xl text-gray-200 mb-12 max-w-2xl mx-auto",children:t&&n?`Welcome back, ${n.displayName||((a=n.email)==null?void 0:a.split("@")[0])}! Ready for your next adventure?`:"Discover and book tickets for amazing events"}),s&&e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:t?e.jsx("button",{onClick:()=>{const o=document.getElementById("explore-events");o&&o.scrollIntoView({behavior:"smooth"})},className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white font-bold px-12 py-4 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-2xl",children:"Explore Events"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>r("/explore-events"),className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white font-bold px-12 py-4 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-2xl",children:"Explore Events"}),e.jsx("button",{onClick:()=>r("/login"),className:"border-2 border-white text-white hover:bg-white hover:text-black font-bold px-12 py-4 rounded-full text-lg transition-all duration-300 transform hover:scale-105",children:"Sign In"})]})})]})]})},go=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
<svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3B82F6;stop-opacity:1" />
    </linearGradient>
  </defs>
  <rect width="100%" height="100%" fill="url(#grad)"/>
  <text x="50%" y="45%" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="24" font-weight="bold">Tickzy</text>
  <text x="50%" y="60%" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-family="Arial, sans-serif" font-size="16">Event Image</text>
</svg>
`)}`,de=()=>go,vo=({title:t,date:s,location:r,price:n,image:a})=>e.jsxs("div",{className:"bg-neutral-800 rounded-xl overflow-hidden border border-gray-700 hover:border-purple-500/50 transition-all duration-300 hover:transform hover:scale-105 group",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[e.jsx("img",{src:a,alt:t,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:o=>{o.currentTarget.src=de()}}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:n})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-2 group-hover:text-purple-400 transition-colors",children:t}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s]}),e.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),r]})]}),e.jsx("button",{className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 rounded-lg transition-colors duration-200",children:"View Details"})]})]});var ye={},bo=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Qs={},H={};let Tt;const yo=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];H.getSymbolSize=function(s){if(!s)throw new Error('"version" cannot be null or undefined');if(s<1||s>40)throw new Error('"version" should be in range from 1 to 40');return s*4+17};H.getSymbolTotalCodewords=function(s){return yo[s]};H.getBCHDigit=function(t){let s=0;for(;t!==0;)s++,t>>>=1;return s};H.setToSJISFunction=function(s){if(typeof s!="function")throw new Error('"toSJISFunc" is not a valid function.');Tt=s};H.isKanjiModeEnabled=function(){return typeof Tt<"u"};H.toSJIS=function(s){return Tt(s)};var Ye={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function s(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,a){if(t.isValid(n))return n;try{return s(n)}catch{return a}}})(Ye);function Xs(){this.buffer=[],this.length=0}Xs.prototype={get:function(t){const s=Math.floor(t/8);return(this.buffer[s]>>>7-t%8&1)===1},put:function(t,s){for(let r=0;r<s;r++)this.putBit((t>>>s-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),t&&(this.buffer[s]|=128>>>this.length%8),this.length++}};var wo=Xs;function _e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}_e.prototype.set=function(t,s,r,n){const a=t*this.size+s;this.data[a]=r,n&&(this.reservedBit[a]=!0)};_e.prototype.get=function(t,s){return this.data[t*this.size+s]};_e.prototype.xor=function(t,s,r){this.data[t*this.size+s]^=r};_e.prototype.isReserved=function(t,s){return this.reservedBit[t*this.size+s]};var jo=_e,Zs={};(function(t){const s=H.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,o=s(n),i=o===145?26:Math.ceil((o-13)/(2*a-2))*2,l=[o-7];for(let c=1;c<a-1;c++)l[c]=l[c-1]-i;return l.push(6),l.reverse()},t.getPositions=function(n){const a=[],o=t.getRowColCoords(n),i=o.length;for(let l=0;l<i;l++)for(let c=0;c<i;c++)l===0&&c===0||l===0&&c===i-1||l===i-1&&c===0||a.push([o[l],o[c]]);return a}})(Zs);var er={};const No=H.getSymbolSize,es=7;er.getPositions=function(s){const r=No(s);return[[0,0],[r-es,0],[0,r-es]]};var tr={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const s={N1:3,N2:3,N3:40,N4:10};t.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},t.from=function(a){return t.isValid(a)?parseInt(a,10):void 0},t.getPenaltyN1=function(a){const o=a.size;let i=0,l=0,c=0,u=null,h=null;for(let m=0;m<o;m++){l=c=0,u=h=null;for(let x=0;x<o;x++){let v=a.get(m,x);v===u?l++:(l>=5&&(i+=s.N1+(l-5)),u=v,l=1),v=a.get(x,m),v===h?c++:(c>=5&&(i+=s.N1+(c-5)),h=v,c=1)}l>=5&&(i+=s.N1+(l-5)),c>=5&&(i+=s.N1+(c-5))}return i},t.getPenaltyN2=function(a){const o=a.size;let i=0;for(let l=0;l<o-1;l++)for(let c=0;c<o-1;c++){const u=a.get(l,c)+a.get(l,c+1)+a.get(l+1,c)+a.get(l+1,c+1);(u===4||u===0)&&i++}return i*s.N2},t.getPenaltyN3=function(a){const o=a.size;let i=0,l=0,c=0;for(let u=0;u<o;u++){l=c=0;for(let h=0;h<o;h++)l=l<<1&2047|a.get(u,h),h>=10&&(l===1488||l===93)&&i++,c=c<<1&2047|a.get(h,u),h>=10&&(c===1488||c===93)&&i++}return i*s.N3},t.getPenaltyN4=function(a){let o=0;const i=a.data.length;for(let c=0;c<i;c++)o+=a.data[c];return Math.abs(Math.ceil(o*100/i/5)-10)*s.N4};function r(n,a,o){switch(n){case t.Patterns.PATTERN000:return(a+o)%2===0;case t.Patterns.PATTERN001:return a%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(a+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return a*o%2+a*o%3===0;case t.Patterns.PATTERN110:return(a*o%2+a*o%3)%2===0;case t.Patterns.PATTERN111:return(a*o%3+(a+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(a,o){const i=o.size;for(let l=0;l<i;l++)for(let c=0;c<i;c++)o.isReserved(c,l)||o.xor(c,l,r(a,c,l))},t.getBestMask=function(a,o){const i=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let u=0;u<i;u++){o(u),t.applyMask(u,a);const h=t.getPenaltyN1(a)+t.getPenaltyN2(a)+t.getPenaltyN3(a)+t.getPenaltyN4(a);t.applyMask(u,a),h<c&&(c=h,l=u)}return l}})(tr);var Je={};const se=Ye,Ie=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ue=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Je.getBlocksCount=function(s,r){switch(r){case se.L:return Ie[(s-1)*4+0];case se.M:return Ie[(s-1)*4+1];case se.Q:return Ie[(s-1)*4+2];case se.H:return Ie[(s-1)*4+3];default:return}};Je.getTotalCodewordsCount=function(s,r){switch(r){case se.L:return Ue[(s-1)*4+0];case se.M:return Ue[(s-1)*4+1];case se.Q:return Ue[(s-1)*4+2];case se.H:return Ue[(s-1)*4+3];default:return}};var sr={},Ge={};const Ce=new Uint8Array(512),Ve=new Uint8Array(256);(function(){let s=1;for(let r=0;r<255;r++)Ce[r]=s,Ve[s]=r,s<<=1,s&256&&(s^=285);for(let r=255;r<512;r++)Ce[r]=Ce[r-255]})();Ge.log=function(s){if(s<1)throw new Error("log("+s+")");return Ve[s]};Ge.exp=function(s){return Ce[s]};Ge.mul=function(s,r){return s===0||r===0?0:Ce[Ve[s]+Ve[r]]};(function(t){const s=Ge;t.mul=function(n,a){const o=new Uint8Array(n.length+a.length-1);for(let i=0;i<n.length;i++)for(let l=0;l<a.length;l++)o[i+l]^=s.mul(n[i],a[l]);return o},t.mod=function(n,a){let o=new Uint8Array(n);for(;o.length-a.length>=0;){const i=o[0];for(let c=0;c<a.length;c++)o[c]^=s.mul(a[c],i);let l=0;for(;l<o.length&&o[l]===0;)l++;o=o.slice(l)}return o},t.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let o=0;o<n;o++)a=t.mul(a,new Uint8Array([1,s.exp(o)]));return a}})(sr);const rr=sr;function Rt(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Rt.prototype.initialize=function(s){this.degree=s,this.genPoly=rr.generateECPolynomial(this.degree)};Rt.prototype.encode=function(s){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(s.length+this.degree);r.set(s);const n=rr.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){const o=new Uint8Array(this.degree);return o.set(n,a),o}return n};var ko=Rt,nr={},oe={},At={};At.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40};var J={};const ar="[0-9]+",Eo="[A-Z $%*+\\-./:]+";let Te="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Te=Te.replace(/u/g,"\\u");const Co="(?:(?![A-Z0-9 $%*+\\-./:]|"+Te+`)(?:.|[\r
]))+`;J.KANJI=new RegExp(Te,"g");J.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");J.BYTE=new RegExp(Co,"g");J.NUMERIC=new RegExp(ar,"g");J.ALPHANUMERIC=new RegExp(Eo,"g");const Lo=new RegExp("^"+Te+"$"),So=new RegExp("^"+ar+"$"),To=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");J.testKanji=function(s){return Lo.test(s)};J.testNumeric=function(s){return So.test(s)};J.testAlphanumeric=function(s){return To.test(s)};(function(t){const s=At,r=J;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,i){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!s.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?o.ccBits[0]:i<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return r.testNumeric(o)?t.NUMERIC:r.testAlphanumeric(o)?t.ALPHANUMERIC:r.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}t.from=function(o,i){if(t.isValid(o))return o;try{return n(o)}catch{return i}}})(oe);(function(t){const s=H,r=Je,n=Ye,a=oe,o=At,i=7973,l=s.getBCHDigit(i);function c(x,v,f){for(let y=1;y<=40;y++)if(v<=t.getCapacity(y,f,x))return y}function u(x,v){return a.getCharCountIndicator(x,v)+4}function h(x,v){let f=0;return x.forEach(function(y){const w=u(y.mode,v);f+=w+y.getBitsLength()}),f}function m(x,v){for(let f=1;f<=40;f++)if(h(x,f)<=t.getCapacity(f,v,a.MIXED))return f}t.from=function(v,f){return o.isValid(v)?parseInt(v,10):f},t.getCapacity=function(v,f,y){if(!o.isValid(v))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=a.BYTE);const w=s.getSymbolTotalCodewords(v),p=r.getTotalCodewordsCount(v,f),d=(w-p)*8;if(y===a.MIXED)return d;const b=d-u(y,v);switch(y){case a.NUMERIC:return Math.floor(b/10*3);case a.ALPHANUMERIC:return Math.floor(b/11*2);case a.KANJI:return Math.floor(b/13);case a.BYTE:default:return Math.floor(b/8)}},t.getBestVersionForData=function(v,f){let y;const w=n.from(f,n.M);if(Array.isArray(v)){if(v.length>1)return m(v,w);if(v.length===0)return 1;y=v[0]}else y=v;return c(y.mode,y.getLength(),w)},t.getEncodedBits=function(v){if(!o.isValid(v)||v<7)throw new Error("Invalid QR Code version");let f=v<<12;for(;s.getBCHDigit(f)-l>=0;)f^=i<<s.getBCHDigit(f)-l;return v<<12|f}})(nr);var or={};const pt=H,ir=1335,Ro=21522,ts=pt.getBCHDigit(ir);or.getEncodedBits=function(s,r){const n=s.bit<<3|r;let a=n<<10;for(;pt.getBCHDigit(a)-ts>=0;)a^=ir<<pt.getBCHDigit(a)-ts;return(n<<10|a)^Ro};var lr={};const Ao=oe;function xe(t){this.mode=Ao.NUMERIC,this.data=t.toString()}xe.getBitsLength=function(s){return 10*Math.floor(s/3)+(s%3?s%3*3+1:0)};xe.prototype.getLength=function(){return this.data.length};xe.prototype.getBitsLength=function(){return xe.getBitsLength(this.data.length)};xe.prototype.write=function(s){let r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),s.put(a,10);const o=this.data.length-r;o>0&&(n=this.data.substr(r),a=parseInt(n,10),s.put(a,o*3+1))};var Do=xe;const _o=oe,nt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function pe(t){this.mode=_o.ALPHANUMERIC,this.data=t}pe.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)};pe.prototype.getLength=function(){return this.data.length};pe.prototype.getBitsLength=function(){return pe.getBitsLength(this.data.length)};pe.prototype.write=function(s){let r;for(r=0;r+2<=this.data.length;r+=2){let n=nt.indexOf(this.data[r])*45;n+=nt.indexOf(this.data[r+1]),s.put(n,11)}this.data.length%2&&s.put(nt.indexOf(this.data[r]),6)};var Bo=pe;const Po=oe;function fe(t){this.mode=Po.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}fe.getBitsLength=function(s){return s*8};fe.prototype.getLength=function(){return this.data.length};fe.prototype.getBitsLength=function(){return fe.getBitsLength(this.data.length)};fe.prototype.write=function(t){for(let s=0,r=this.data.length;s<r;s++)t.put(this.data[s],8)};var Mo=fe;const Io=oe,Uo=H;function ge(t){this.mode=Io.KANJI,this.data=t}ge.getBitsLength=function(s){return s*13};ge.prototype.getLength=function(){return this.data.length};ge.prototype.getBitsLength=function(){return ge.getBitsLength(this.data.length)};ge.prototype.write=function(t){let s;for(s=0;s<this.data.length;s++){let r=Uo.toSJIS(this.data[s]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var Fo=ge,cr={exports:{}};(function(t){var s={single_source_shortest_paths:function(r,n,a){var o={},i={};i[n]=0;var l=s.PriorityQueue.make();l.push(n,0);for(var c,u,h,m,x,v,f,y,w;!l.empty();){c=l.pop(),u=c.value,m=c.cost,x=r[u]||{};for(h in x)x.hasOwnProperty(h)&&(v=x[h],f=m+v,y=i[h],w=typeof i[h]>"u",(w||y>f)&&(i[h]=f,l.push(h,f),o[h]=u))}if(typeof a<"u"&&typeof i[a]>"u"){var p=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(p)}return o},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],o=n;o;)a.push(o),r[o],o=r[o];return a.reverse(),a},find_path:function(r,n,a){var o=s.single_source_shortest_paths(r,n,a);return s.extract_shortest_path_from_predecessor_list(o,a)},PriorityQueue:{make:function(r){var n=s.PriorityQueue,a={},o;r=r||{};for(o in n)n.hasOwnProperty(o)&&(a[o]=n[o]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=s})(cr);var zo=cr.exports;(function(t){const s=oe,r=Do,n=Bo,a=Mo,o=Fo,i=J,l=H,c=zo;function u(p){return unescape(encodeURIComponent(p)).length}function h(p,d,b){const j=[];let k;for(;(k=p.exec(b))!==null;)j.push({data:k[0],index:k.index,mode:d,length:k[0].length});return j}function m(p){const d=h(i.NUMERIC,s.NUMERIC,p),b=h(i.ALPHANUMERIC,s.ALPHANUMERIC,p);let j,k;return l.isKanjiModeEnabled()?(j=h(i.BYTE,s.BYTE,p),k=h(i.KANJI,s.KANJI,p)):(j=h(i.BYTE_KANJI,s.BYTE,p),k=[]),d.concat(b,j,k).sort(function(C,R){return C.index-R.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function x(p,d){switch(d){case s.NUMERIC:return r.getBitsLength(p);case s.ALPHANUMERIC:return n.getBitsLength(p);case s.KANJI:return o.getBitsLength(p);case s.BYTE:return a.getBitsLength(p)}}function v(p){return p.reduce(function(d,b){const j=d.length-1>=0?d[d.length-1]:null;return j&&j.mode===b.mode?(d[d.length-1].data+=b.data,d):(d.push(b),d)},[])}function f(p){const d=[];for(let b=0;b<p.length;b++){const j=p[b];switch(j.mode){case s.NUMERIC:d.push([j,{data:j.data,mode:s.ALPHANUMERIC,length:j.length},{data:j.data,mode:s.BYTE,length:j.length}]);break;case s.ALPHANUMERIC:d.push([j,{data:j.data,mode:s.BYTE,length:j.length}]);break;case s.KANJI:d.push([j,{data:j.data,mode:s.BYTE,length:u(j.data)}]);break;case s.BYTE:d.push([{data:j.data,mode:s.BYTE,length:u(j.data)}])}}return d}function y(p,d){const b={},j={start:{}};let k=["start"];for(let N=0;N<p.length;N++){const C=p[N],R=[];for(let S=0;S<C.length;S++){const E=C[S],L=""+N+S;R.push(L),b[L]={node:E,lastCount:0},j[L]={};for(let A=0;A<k.length;A++){const D=k[A];b[D]&&b[D].node.mode===E.mode?(j[D][L]=x(b[D].lastCount+E.length,E.mode)-x(b[D].lastCount,E.mode),b[D].lastCount+=E.length):(b[D]&&(b[D].lastCount=E.length),j[D][L]=x(E.length,E.mode)+4+s.getCharCountIndicator(E.mode,d))}}k=R}for(let N=0;N<k.length;N++)j[k[N]].end=0;return{map:j,table:b}}function w(p,d){let b;const j=s.getBestModeForData(p);if(b=s.from(d,j),b!==s.BYTE&&b.bit<j.bit)throw new Error('"'+p+'" cannot be encoded with mode '+s.toString(b)+`.
 Suggested mode is: `+s.toString(j));switch(b===s.KANJI&&!l.isKanjiModeEnabled()&&(b=s.BYTE),b){case s.NUMERIC:return new r(p);case s.ALPHANUMERIC:return new n(p);case s.KANJI:return new o(p);case s.BYTE:return new a(p)}}t.fromArray=function(d){return d.reduce(function(b,j){return typeof j=="string"?b.push(w(j,null)):j.data&&b.push(w(j.data,j.mode)),b},[])},t.fromString=function(d,b){const j=m(d,l.isKanjiModeEnabled()),k=f(j),N=y(k,b),C=c.find_path(N.map,"start","end"),R=[];for(let S=1;S<C.length-1;S++)R.push(N.table[C[S]].node);return t.fromArray(v(R))},t.rawSplit=function(d){return t.fromArray(m(d,l.isKanjiModeEnabled()))}})(lr);const Qe=H,at=Ye,Oo=wo,Vo=jo,$o=Zs,Ho=er,ft=tr,gt=Je,Wo=ko,$e=nr,qo=or,Ko=oe,ot=lr;function Yo(t,s){const r=t.size,n=Ho.getPositions(s);for(let a=0;a<n.length;a++){const o=n[a][0],i=n[a][1];for(let l=-1;l<=7;l++)if(!(o+l<=-1||r<=o+l))for(let c=-1;c<=7;c++)i+c<=-1||r<=i+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?t.set(o+l,i+c,!0,!0):t.set(o+l,i+c,!1,!0))}}function Jo(t){const s=t.size;for(let r=8;r<s-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function Go(t,s){const r=$o.getPositions(s);for(let n=0;n<r.length;n++){const a=r[n][0],o=r[n][1];for(let i=-2;i<=2;i++)for(let l=-2;l<=2;l++)i===-2||i===2||l===-2||l===2||i===0&&l===0?t.set(a+i,o+l,!0,!0):t.set(a+i,o+l,!1,!0)}}function Qo(t,s){const r=t.size,n=$e.getEncodedBits(s);let a,o,i;for(let l=0;l<18;l++)a=Math.floor(l/3),o=l%3+r-8-3,i=(n>>l&1)===1,t.set(a,o,i,!0),t.set(o,a,i,!0)}function it(t,s,r){const n=t.size,a=qo.getEncodedBits(s,r);let o,i;for(o=0;o<15;o++)i=(a>>o&1)===1,o<6?t.set(o,8,i,!0):o<8?t.set(o+1,8,i,!0):t.set(n-15+o,8,i,!0),o<8?t.set(8,n-o-1,i,!0):o<9?t.set(8,15-o-1+1,i,!0):t.set(8,15-o-1,i,!0);t.set(n-8,8,1,!0)}function Xo(t,s){const r=t.size;let n=-1,a=r-1,o=7,i=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!t.isReserved(a,l-c)){let u=!1;i<s.length&&(u=(s[i]>>>o&1)===1),t.set(a,l-c,u),o--,o===-1&&(i++,o=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function Zo(t,s,r){const n=new Oo;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),Ko.getCharCountIndicator(c.mode,t)),c.write(n)});const a=Qe.getSymbolTotalCodewords(t),o=gt.getTotalCodewordsCount(t,s),i=(a-o)*8;for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(i-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return ei(n,t,s)}function ei(t,s,r){const n=Qe.getSymbolTotalCodewords(s),a=gt.getTotalCodewordsCount(s,r),o=n-a,i=gt.getBlocksCount(s,r),l=n%i,c=i-l,u=Math.floor(n/i),h=Math.floor(o/i),m=h+1,x=u-h,v=new Wo(x);let f=0;const y=new Array(i),w=new Array(i);let p=0;const d=new Uint8Array(t.buffer);for(let C=0;C<i;C++){const R=C<c?h:m;y[C]=d.slice(f,f+R),w[C]=v.encode(y[C]),f+=R,p=Math.max(p,R)}const b=new Uint8Array(n);let j=0,k,N;for(k=0;k<p;k++)for(N=0;N<i;N++)k<y[N].length&&(b[j++]=y[N][k]);for(k=0;k<x;k++)for(N=0;N<i;N++)b[j++]=w[N][k];return b}function ti(t,s,r,n){let a;if(Array.isArray(t))a=ot.fromArray(t);else if(typeof t=="string"){let u=s;if(!u){const h=ot.rawSplit(t);u=$e.getBestVersionForData(h,r)}a=ot.fromString(t,u||40)}else throw new Error("Invalid data");const o=$e.getBestVersionForData(a,r);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!s)s=o;else if(s<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const i=Zo(s,r,a),l=Qe.getSymbolSize(s),c=new Vo(l);return Yo(c,s),Jo(c),Go(c,s),it(c,r,0),s>=7&&Qo(c,s),Xo(c,i),isNaN(n)&&(n=ft.getBestMask(c,it.bind(null,c,r))),ft.applyMask(n,c),it(c,r,n),{modules:c,version:s,errorCorrectionLevel:r,maskPattern:n,segments:a}}Qs.create=function(s,r){if(typeof s>"u"||s==="")throw new Error("No input text");let n=at.M,a,o;return typeof r<"u"&&(n=at.from(r.errorCorrectionLevel,at.M),a=$e.from(r.version),o=ft.from(r.maskPattern),r.toSJISFunc&&Qe.setToSJISFunction(r.toSJISFunc)),ti(s,a,n,o)};var dr={},Dt={};(function(t){function s(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:o,scale:o?4:i,margin:a,color:{dark:s(n.color.dark||"#000000ff"),light:s(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},t.getImageWidth=function(n,a){const o=t.getScale(n,a);return Math.floor((n+a.margin*2)*o)},t.qrToImageData=function(n,a,o){const i=a.modules.size,l=a.modules.data,c=t.getScale(i,o),u=Math.floor((i+o.margin*2)*c),h=o.margin*c,m=[o.color.light,o.color.dark];for(let x=0;x<u;x++)for(let v=0;v<u;v++){let f=(x*u+v)*4,y=o.color.light;if(x>=h&&v>=h&&x<u-h&&v<u-h){const w=Math.floor((x-h)/c),p=Math.floor((v-h)/c);y=m[l[w*i+p]?1:0]}n[f++]=y.r,n[f++]=y.g,n[f++]=y.b,n[f]=y.a}}})(Dt);(function(t){const s=Dt;function r(a,o,i){a.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=i,o.width=i,o.style.height=i+"px",o.style.width=i+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,i,l){let c=l,u=i;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),i||(u=n()),c=s.getOptions(c);const h=s.getImageWidth(o.modules.size,c),m=u.getContext("2d"),x=m.createImageData(h,h);return s.qrToImageData(x.data,o,c),r(m,u,h),m.putImageData(x,0,0),u},t.renderToDataURL=function(o,i,l){let c=l;typeof c>"u"&&(!i||!i.getContext)&&(c=i,i=void 0),c||(c={});const u=t.render(o,i,c),h=c.type||"image/png",m=c.rendererOpts||{};return u.toDataURL(h,m.quality)}})(dr);var ur={};const si=Dt;function ss(t,s){const r=t.a/255,n=s+'="'+t.hex+'"';return r<1?n+" "+s+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function lt(t,s,r){let n=t+s;return typeof r<"u"&&(n+=" "+r),n}function ri(t,s,r){let n="",a=0,o=!1,i=0;for(let l=0;l<t.length;l++){const c=Math.floor(l%s),u=Math.floor(l/s);!c&&!o&&(o=!0),t[l]?(i++,l>0&&c>0&&t[l-1]||(n+=o?lt("M",c+r,.5+u+r):lt("m",a,0),a=0,o=!1),c+1<s&&t[l+1]||(n+=lt("h",i),i=0)):a++}return n}ur.render=function(s,r,n){const a=si.getOptions(r),o=s.modules.size,i=s.modules.data,l=o+a.margin*2,c=a.color.light.a?"<path "+ss(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+ss(a.color.dark,"stroke")+' d="'+ri(i,o,a.margin)+'"/>',h='viewBox="0 0 '+l+" "+l+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+h+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,x),x};const ni=bo,vt=Qs,hr=dr,ai=ur;function _t(t,s,r,n,a){const o=[].slice.call(arguments,1),i=o.length,l=typeof o[i-1]=="function";if(!l&&!ni())throw new Error("Callback required as last argument");if(l){if(i<2)throw new Error("Too few arguments provided");i===2?(a=r,r=s,s=n=void 0):i===3&&(s.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=s,s=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(r=s,s=n=void 0):i===2&&!s.getContext&&(n=r,r=s,s=void 0),new Promise(function(c,u){try{const h=vt.create(r,n);c(t(h,s,n))}catch(h){u(h)}})}try{const c=vt.create(r,n);a(null,t(c,s,n))}catch(c){a(c)}}ye.create=vt.create;ye.toCanvas=_t.bind(null,hr.render);ye.toDataURL=_t.bind(null,hr.renderToDataURL);ye.toString=_t.bind(null,function(t,s,r){return ai.render(t,r)});const He=async t=>{try{if(!T)return[];let s=Q(F(T,"events"),Fe("createdAt","desc"));const r=await Y(s),n=[];r.forEach(i=>{var u;const l=i.data(),c={id:i.id,title:l.title||"Untitled Event",description:l.description||"",date:l.date||new Date().toISOString(),time:l.time||"00:00",location:typeof l.location=="string"?l.location:(u=l.location)!=null&&u._lat?`${l.location._lat}, ${l.location._long}`:"TBD",price:l.price||0,capacity:l.capacity||0,image:l.image||de(),tags:Array.isArray(l.tags)?l.tags:[],hostId:l.hostId||l.host_id||"",status:l.status||"pending",ticketsSold:l.ticketsSold||0,revenue:l.revenue||0,createdAt:l.createdAt,updatedAt:l.updatedAt};n.push(c)});let o=n.filter(i=>i.status==="approved"||i.status==="published"||i.status==="active");if(t!=null&&t.category&&t.category!=="all"&&(o=o.filter(i=>i.tags.some(l=>l.toLowerCase().includes(t.category.toLowerCase())))),t!=null&&t.query){const i=t.query.toLowerCase();o=o.filter(l=>l.title.toLowerCase().includes(i)||l.description.toLowerCase().includes(i)||typeof l.location=="string"&&l.location.toLowerCase().includes(i)||l.tags.some(c=>c.toLowerCase().includes(i)))}return t!=null&&t.tags&&t.tags.length>0&&(o=o.filter(i=>t.tags.some(l=>i.tags.includes(l)))),o}catch{return[]}},oi=async t=>{var s;try{if(!T)return null;const r=await re(P(T,"events",t));if(r.exists()){const n=r.data();return{id:r.id,title:n.title||"Untitled Event",description:n.description||"",date:n.date||new Date().toISOString(),time:n.time||"00:00",location:typeof n.location=="string"?n.location:(s=n.location)!=null&&s._lat?`${n.location._lat}, ${n.location._long}`:"TBD",price:n.price||0,capacity:n.capacity||0,image:n.image||de(),tags:Array.isArray(n.tags)?n.tags:[],hostId:n.hostId||n.host_id||"",status:n.status||"pending",ticketsSold:n.ticketsSold||0,revenue:n.revenue||0,createdAt:n.createdAt,updatedAt:n.updatedAt}}return null}catch{return null}},ii=async(t,s)=>{try{if(!T)return[];const r=Q(F(T,"events"),X("hostId","==",t),Fe("createdAt","desc")),n=await Y(r),a=[];n.forEach(o=>{var c;const i=o.data(),l={id:o.id,title:i.title||"Untitled Event",description:i.description||"",date:i.date||new Date().toISOString(),time:i.time||"00:00",location:typeof i.location=="string"?i.location:(c=i.location)!=null&&c._lat?`${i.location._lat}, ${i.location._long}`:"TBD",price:i.price||0,capacity:i.capacity||0,image:i.image||de(),tags:Array.isArray(i.tags)?i.tags:[],hostId:i.hostId||i.host_id||"",status:i.status||"pending",ticketsSold:i.ticketsSold||0,revenue:i.revenue||0,totalTickets:i.totalTickets||i.capacity||0,createdAt:i.createdAt,updatedAt:i.updatedAt};a.push(l)});try{const o=Q(F(T,"events"),X("createdBy","==",t),Fe("createdAt","desc"));(await Y(o)).forEach(l=>{var h;const c=l.data();if(!a.find(m=>m.id===l.id)){const m={id:l.id,title:c.title||"Untitled Event",description:c.description||"",date:c.date||new Date().toISOString(),time:c.time||"00:00",location:typeof c.location=="string"?c.location:(h=c.location)!=null&&h._lat?`${c.location._lat}, ${c.location._long}`:"TBD",price:c.price||0,capacity:c.capacity||0,image:c.image||de(),tags:Array.isArray(c.tags)?c.tags:[],hostId:c.hostId||c.host_id||c.createdBy||"",status:c.status||"pending",ticketsSold:c.ticketsSold||0,revenue:c.revenue||0,totalTickets:c.totalTickets||c.capacity||0,createdAt:c.createdAt,updatedAt:c.updatedAt};a.push(m)}})}catch{}return a}catch{return[]}},li=async t=>{try{if(!T)return null;const s=await re(P(T,"bookings",t));if(s.exists()){const r=s.data();return{id:s.id,userId:r.userId,userEmail:r.userEmail,userName:r.userName,eventId:r.eventId,eventTitle:r.eventTitle,eventDate:r.eventDate,eventTime:r.eventTime,eventLocation:r.eventLocation,eventImage:r.eventImage,ticketCount:r.ticketCount,ticketTier:r.ticketTier,totalAmount:r.totalAmount,status:r.status,bookingDate:r.bookingDate,qrCode:r.qrCode,qrCodeData:r.qrCodeData,createdAt:r.createdAt,updatedAt:r.updatedAt}}return null}catch(s){return console.error("Error fetching booking:",s),null}},ci=async(t,s)=>{try{if(!T)return!1;const r=Q(F(T,"bookings"),X("userId","==",t),X("eventId","==",s),X("status","in",["booked","confirmed","pending"]));return!(await Y(r)).empty}catch(r){return console.error("Error checking existing booking:",r),!1}},di=async(t,s)=>{try{const r=`TICKZY TICKET
Booking ID: ${t}
Event ID: ${s}
Valid Ticket - Show at venue
Scan Date: ${new Date().toLocaleDateString()}
Time: ${new Date().toLocaleTimeString()}`;return{qrCode:await ye.toDataURL(r,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}),qrCodeData:r}}catch(r){return console.error("Error generating QR code:",r),{qrCode:"",qrCodeData:`TICKZY TICKET - Booking: ${t}`}}},ui=async(t,s,r)=>{try{const n=` TICKZY TICKET 

 EVENT: ${r.title}
 VENUE: ${r.location}
 DATE: ${new Date(r.date).toLocaleDateString()}
 TIME: ${r.time}
 PRICE: $${r.price}

 BOOKING DETAILS:
ID: ${t}
Status: VALID TICKET
Generated: ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}

 Show this QR code at venue entrance
 Verification: localhost:3000/ticket/${t}`;return{qrCode:await ye.toDataURL(n,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}),qrCodeData:n}}catch(n){return console.error("Error generating detailed QR code:",n),di(t,s)}},hi=async(t,s,r,n,a=1)=>{try{if(!T)return{success:!1,error:"Database not available"};if(await ci(t,n))return{success:!1,error:"You already have a booking for this event"};const i=await Pr(T,async l=>{const c=P(T,"events",n),u=await l.get(c);if(!u.exists())throw new Error("Event not found");const h=u.data(),m=new Date(h.date),x=new Date;if(x.setHours(0,0,0,0),m<x)throw new Error("This event has already passed and is no longer available for booking");if(h.status!=="published"&&h.status!=="approved")throw new Error("Event is not available for booking");const v=h.seatsLeft||h.capacity||0;if(v<a)throw new Error(`Only ${v} seats available`);const f=P(F(T,"bookings")),y=f.id,{qrCode:w,qrCodeData:p}=await ui(y,n,h),d={userId:t,userEmail:s,userName:r,eventId:n,eventTitle:h.title,eventDate:h.date,eventTime:h.time,eventLocation:h.location,eventImage:h.image,ticketCount:a,ticketTier:"regular",totalAmount:h.price*a,status:"booked",bookingDate:new Date().toISOString(),qrCode:w,qrCodeData:p,createdAt:U.now(),updatedAt:U.now()};return l.set(f,d),l.update(c,{seatsLeft:Ze(-a),ticketsSold:Ze(a),revenue:Ze(h.price*a),updatedAt:U.now()}),{bookingId:y,eventData:h,bookingData:d}});return{success:!0,bookingId:i.bookingId,qrCode:i.bookingData.qrCode,bookingData:i.bookingData}}catch(o){return console.error("Error creating booking:",o),{success:!1,error:o.message||"Failed to create booking"}}},mi=()=>{const t=$(),[s,r]=g.useState([]),[n,a]=g.useState(!0);g.useEffect(()=>{(async()=>{a(!0);try{const l=await He();r(l.slice(0,6))}catch(l){console.error("Error fetching events for landing page:",l),r([])}finally{a(!1)}})()},[]);const o=()=>{t("/login")};return e.jsx("section",{className:"py-16 bg-black",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Discover Amazing Events"}),e.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"From concerts to conferences, workshops to festivals - find your next unforgettable experience"})]}),n&&e.jsxs("div",{className:"flex justify-center items-center py-16 mb-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"}),e.jsx("span",{className:"ml-4 text-white",children:"Loading events..."})]}),!n&&s.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:s.map(i=>e.jsx("div",{onClick:o,className:"cursor-pointer",children:e.jsx(vo,{title:i.title,date:new Date(i.date).toLocaleDateString(),location:i.location,price:`$${i.price}`,image:i.image})},i.id))}),!n&&s.length===0&&e.jsxs("div",{className:"text-center py-16 mb-12",children:[e.jsx("div",{className:"w-20 h-20 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:"No Events Available"}),e.jsx("p",{className:"text-gray-400 mb-8 max-w-md mx-auto",children:"There are currently no events to display. Check back soon for exciting new events!"}),e.jsx("button",{onClick:()=>t("/login"),className:"bg-purple-600 hover:bg-purple-700 text-white font-medium px-6 py-3 rounded-lg transition-colors duration-200",children:"Sign Up to Create Events"})]}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-8",children:"Browse by Category"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[{name:"Music",icon:"",color:"from-purple-500 to-pink-500"},{name:"Technology",icon:"",color:"from-blue-500 to-cyan-500"},{name:"Food",icon:"",color:"from-orange-500 to-red-500"},{name:"Art",icon:"",color:"from-green-500 to-teal-500"},{name:"Sports",icon:"",color:"from-yellow-500 to-orange-500"},{name:"Business",icon:"",color:"from-gray-500 to-gray-600"}].map(i=>e.jsxs("button",{onClick:()=>t("/login"),className:`bg-gradient-to-r ${i.color} rounded-xl p-6 text-white hover:scale-105 transition-transform duration-200`,children:[e.jsx("div",{className:"text-3xl mb-2",children:i.icon}),e.jsx("div",{className:"font-semibold",children:i.name})]},i.name))})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-gradient-to-r from-purple-900/50 to-blue-900/50 rounded-2xl p-12 border border-purple-500/20",children:[e.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Start Your Journey?"}),e.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Join thousands of event enthusiasts and discover experiences that matter to you"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>t("/login"),className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 text-white font-bold px-8 py-4 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-2xl",children:"Get Started"}),e.jsx("button",{onClick:()=>t("/about"),className:"border-2 border-white text-white hover:bg-white hover:text-black font-semibold px-8 py-4 rounded-full text-lg transition-all duration-300",children:"Learn More"})]})]})})]})})},xi=()=>e.jsxs("div",{className:"min-h-screen bg-black text-white",children:[e.jsx(St,{}),e.jsx(Gs,{}),e.jsx(mi,{}),e.jsx("section",{className:"py-20 bg-neutral-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl sm:text-5xl font-bold text-white mb-6 tracking-wide",children:"Why Tickzy?"}),e.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"A modern platform for event discovery and ticket management."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Easy Booking"}),e.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Simple and intuitive ticket booking process designed for everyone."})]}),e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Mobile Ready"}),e.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Access your tickets on any device, anywhere you go."})]}),e.jsxs("div",{className:"text-center group",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-500 to-blue-500 rounded-full flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Secure"}),e.jsx("p",{className:"text-gray-400 leading-relaxed",children:"Your data and payments are protected with modern security."})]})]})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-900 via-blue-900 to-purple-900",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-4xl sm:text-5xl font-bold text-white mb-6 tracking-wide",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-xl text-gray-200 mb-10 max-w-2xl mx-auto",children:"Join Tickzy and discover amazing events in your area."})]})})]}),pi=()=>{const[t,s]=g.useState(!1),[r,n]=g.useState(null),[a,o]=g.useState(!1),[i,l]=g.useState(""),[c,u]=g.useState(""),[h,m]=g.useState(""),x=$();I(),g.useEffect(()=>{(async()=>{try{const d=await Mr(W);d&&console.log("Redirect sign-in successful:",d.user.email)}catch(d){console.error("Error handling redirect result:",d),n("Sign-in failed. Please try again.")}})()},[]);const v=async p=>{if(p.preventDefault(),!i||!c){n("Please fill in all fields");return}s(!0),n(null);try{(await Ir(W,i,c)).user.emailVerified?x("/dashboard"):x("/verify-email")}catch(d){console.error("Email sign in error:",d),n(y(d.code))}finally{s(!1)}},f=async p=>{if(p.preventDefault(),!i||!c||!h){n("Please fill in all fields");return}if(c!==h){n("Passwords do not match");return}if(c.length<6){n("Password must be at least 6 characters");return}s(!0),n(null);try{const b=(await Ur(W,i,c)).user;await is(b),x("/verify-email")}catch(d){console.error("Email sign up error:",d),n(y(d.code))}finally{s(!1)}},y=p=>{switch(p){case"auth/user-not-found":return"No account found with this email address";case"auth/wrong-password":return"Incorrect password";case"auth/email-already-in-use":return"An account with this email already exists";case"auth/weak-password":return"Password is too weak";case"auth/invalid-email":return"Invalid email address";case"auth/too-many-requests":return"Too many failed attempts. Please try again later";default:return"An error occurred. Please try again"}},w=async()=>{var p;s(!0),n(null);try{const b=(await Fr(W,ee)).user;console.log("Google sign-in successful:",b.email)}catch(d){if(console.error("Popup sign-in failed:",d),d.code==="auth/popup-closed-by-user")n("Sign-in was cancelled. Please try again.");else if(d.code==="auth/popup-blocked"){n("Popup was blocked. Trying redirect method...");try{await Mt(W,ee);return}catch(b){console.error("Redirect sign-in also failed:",b),n("Failed to sign in. Please try again.")}}else if(d.code==="auth/cancelled-popup-request")n("Another sign-in popup is already open. Please close it and try again.");else if(d.code==="auth/network-request-failed")n("Network error. Please check your connection and try again.");else if((p=d.message)!=null&&p.includes("Cross-Origin-Opener-Policy")){console.warn("COOP warning detected (non-critical), falling back to redirect...");try{await Mt(W,ee);return}catch(b){console.error("Redirect sign-in also failed:",b),n("Failed to sign in. Please try again.")}}else n("Failed to sign in. Please try again.")}finally{s(!1)}};return e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx(St,{}),e.jsx("div",{className:"flex items-center justify-center px-4 pt-16 pb-8 min-h-screen",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-neutral-900 rounded-xl shadow-2xl p-8 border border-gray-800",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:a?"Create Account":"Welcome Back"}),e.jsx("p",{className:"text-gray-400",children:a?"Join Tickzy to discover amazing events":"Sign in to your account"})]}),r&&e.jsx("div",{className:"mb-6 p-4 bg-red-900/50 border border-red-700 rounded-lg",children:e.jsx("p",{className:"text-red-300 text-sm",children:r})}),e.jsxs("form",{onSubmit:a?f:v,className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:i,onChange:p=>l(p.target.value),className:"w-full px-4 py-3 bg-neutral-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),e.jsx("input",{type:"password",id:"password",value:c,onChange:p=>u(p.target.value),className:"w-full px-4 py-3 bg-neutral-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your password",required:!0})]}),a&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),e.jsx("input",{type:"password",id:"confirmPassword",value:h,onChange:p=>m(p.target.value),className:"w-full px-4 py-3 bg-neutral-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Confirm your password",required:!0})]}),e.jsx("button",{type:"submit",disabled:t,className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:t?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mx-auto"}):a?"Create Account":"Sign In"})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-700"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-neutral-900 text-gray-400",children:"Or continue with"})})]}),e.jsx("button",{onClick:w,disabled:t,className:"w-full bg-white hover:bg-gray-100 text-gray-900 font-semibold py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center space-x-3 disabled:opacity-50 disabled:cursor-not-allowed",children:t?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-900"}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{children:"Continue with Google"})]})}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-500 text-sm",children:["By signing in, you agree to our"," ",e.jsx("a",{href:"#",className:"text-purple-400 hover:text-purple-300",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"text-purple-400 hover:text-purple-300",children:"Privacy Policy"})]})})]}),e.jsx("div",{className:"text-center mt-6 mb-4",children:e.jsxs("p",{className:"text-gray-400",children:[a?"Already have an account?":"Don't have an account?"," ",e.jsx("button",{onClick:()=>{o(!a),n(null),l(""),u(""),m("")},className:"text-purple-400 hover:text-purple-300 font-medium transition-colors duration-200",children:a?"Sign In":"Sign Up"})]})}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>x("/"),className:"text-gray-400 hover:text-white transition-colors duration-200",children:" Back to Home"})})]})})]})},fi=()=>{const t=$(),{user:s}=I(),[r,n]=g.useState("all"),[a,o]=g.useState([]),[i,l]=g.useState(!0),c=()=>{t(s?"/dashboard":"/")};g.useEffect(()=>{(async()=>{l(!0);try{const v=await He();o(v)}catch(v){console.error("Error fetching events:",v),o([])}finally{l(!1)}})()},[]);const u=[{id:"all",name:"All Events"},{id:"music",name:"Music"},{id:"technology",name:"Technology"},{id:"art",name:"Art & Culture"},{id:"sports",name:"Sports"},{id:"food",name:"Food & Drink"},{id:"business",name:"Business"},{id:"workshop",name:"Workshops"}],h=r==="all"?a:a.filter(x=>x.tags&&x.tags.some(v=>v.toLowerCase().includes(r.toLowerCase()))),m=x=>{if(!s){t("/login");return}alert(`Booking event ${x} - Feature coming soon!`)};return e.jsxs("div",{className:"min-h-screen bg-black text-white",children:[e.jsx(St,{}),e.jsx("div",{className:"bg-neutral-900 border-b border-gray-800",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Explore Events"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Discover amazing events happening near you"})]}),e.jsx("button",{onClick:c,className:"text-purple-400 hover:text-purple-300 font-medium transition-colors duration-200",children:" Back to Home"})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"flex flex-wrap gap-3",children:u.map(x=>e.jsx("button",{onClick:()=>n(x.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 ${r===x.id?"bg-purple-600 text-white":"bg-neutral-800 text-gray-300 hover:text-white hover:bg-neutral-700"}`,children:x.name},x.id))})}),i&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:e.jsxs("div",{className:"flex justify-center items-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"}),e.jsx("span",{className:"ml-4 text-white",children:"Loading events..."})]})}),!i&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:h.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map(x=>e.jsxs("div",{className:"bg-neutral-800 rounded-xl overflow-hidden border border-gray-700 hover:border-purple-500/50 transition-all duration-300",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:x.image,alt:x.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:["$",x.price]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:x.title}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:x.description}),x.tags&&x.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[x.tags.slice(0,3).map((v,f)=>e.jsx("span",{className:"bg-purple-600/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:v},f)),x.tags.length>3&&e.jsxs("span",{className:"text-gray-400 text-xs px-2 py-1",children:["+",x.tags.length-3," more"]})]}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(x.date).toLocaleDateString()," at ",x.time]}),e.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),x.location]})]}),e.jsx("button",{onClick:()=>m(x.id),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 rounded-lg transition-colors duration-200",children:s?"Book Now":"Sign In to Book"})]})]},x.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:a.length===0?"No Events Available":"No Events Found"}),e.jsx("p",{className:"text-gray-400",children:a.length===0?"There are currently no events to display. Check back soon for exciting new events!":"Try selecting a different category or check back later."}),a.length===0&&e.jsx("button",{onClick:()=>t("/login"),className:"mt-6 bg-purple-600 hover:bg-purple-700 text-white font-medium px-6 py-3 rounded-lg transition-colors duration-200",children:"Sign Up to Create Events"})]})})]})},rs=({onNavigate:t,currentView:s=null,onSearch:r})=>{var S;const[n,a]=g.useState(!1),[o,i]=g.useState(!1),[l,c]=g.useState(""),[u,h]=g.useState(!1),{user:m,userData:x,logout:v}=I(),f=$(),y=be(),w=async()=>{try{await v(),f("/")}catch{}},p=()=>{if(m)if(y.pathname==="/dashboard"){const E=document.getElementById("hero-banner");E?E.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})}else f("/dashboard"),setTimeout(()=>{const E=document.getElementById("hero-banner");E?E.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})},100);else f("/")},d=()=>(x==null?void 0:x.role)==="admin"?[{name:"Admin Control Panel",view:"explore",current:!0}]:[{name:"Explore Events",view:"explore",current:s==="explore"},{name:"My Dashboard",view:"my-dashboard",current:s==="my-dashboard"}],b=()=>(x==null?void 0:x.role)==="host"?[{name:"Create Event",path:"/create-event",style:"primary",description:"Host a new event"}]:(x==null?void 0:x.role)==="user"?[{name:"Become a Host",path:"/request-host",style:"secondary",description:"Apply to host events"}]:[],j=d(),k=b(),N=E=>{t&&t(E)},C=E=>{E.preventDefault(),l.trim()&&r&&(r(l.trim()),y.pathname==="/dashboard"&&t&&t("explore"))},R=E=>{const L=E.target.value;c(L),r&&r(L)};return e.jsxs("nav",{className:"bg-neutral-900 border-b border-gray-800 sticky top-0 z-50",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:p,className:"text-2xl font-bold text-white tracking-wide hover:text-purple-400 transition-colors duration-200 mr-8",children:"Tickzy"}),e.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[j.map(E=>e.jsx("button",{onClick:()=>N(E.view),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 transform ${E.current?"text-white bg-gradient-to-r from-purple-600 to-blue-600 shadow-lg scale-105":"text-gray-300 hover:text-white hover:bg-gray-800 hover:scale-105"}`,children:E.name},E.name)),k.map(E=>{const L=E.style==="primary";return e.jsxs("button",{onClick:()=>f(E.path),className:`group relative px-6 py-2.5 font-bold rounded-xl transition-all duration-300 transform hover:scale-110 shadow-xl ${L?"bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 hover:from-emerald-400 hover:via-teal-400 hover:to-cyan-400 text-white border-2 border-emerald-400/30 hover:border-emerald-300/50 shadow-emerald-500/25 hover:shadow-emerald-400/40":"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white border border-indigo-500/20"}`,title:E.description,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:`w-5 h-5 ${L?"drop-shadow-sm":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:L?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),e.jsx("span",{className:L?"tracking-wide":"",children:E.name})]}),e.jsx("div",{className:`absolute inset-0 rounded-xl opacity-0 group-hover:opacity-30 transition-opacity duration-300 ${L?"bg-gradient-to-r from-emerald-300 via-teal-300 to-cyan-300 blur-sm":"bg-gradient-to-r from-indigo-400 to-purple-400"}`}),L&&e.jsxs("div",{className:"absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[e.jsx("div",{className:"absolute top-1 right-1 w-1 h-1 bg-white rounded-full animate-pulse"}),e.jsx("div",{className:"absolute bottom-1 left-1 w-1 h-1 bg-white rounded-full animate-pulse delay-300"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-0.5 h-0.5 bg-white rounded-full animate-pulse delay-150"})]})]},E.name)})]})]}),(x==null?void 0:x.role)!=="admin"&&e.jsx("div",{className:"flex-1 max-w-md mx-6 hidden lg:block",children:e.jsx("form",{onSubmit:C,className:"relative",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:`h-4 w-4 transition-colors duration-200 ${u?"text-purple-400":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:l,onChange:R,onFocus:()=>h(!0),onBlur:()=>h(!1),placeholder:"Search events...",className:`block w-full pl-9 pr-4 py-1.5 text-sm border rounded-lg bg-neutral-800 text-white placeholder-gray-400 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent ${u?"border-purple-500 bg-neutral-700":"border-gray-600 hover:border-gray-500"}`}),l&&e.jsx("button",{type:"button",onClick:()=>{c(""),r&&r("")},className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-white transition-colors duration-200",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),e.jsxs("div",{className:"flex items-center space-x-4 ml-auto",children:[(x==null?void 0:x.role)!=="admin"&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>i(!o),className:"relative p-2 text-gray-400 hover:text-white transition-colors duration-200",children:e.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),o&&e.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-neutral-800 rounded-md shadow-lg border border-gray-700 z-50",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"Notifications"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsxs("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-5 5v-5z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),e.jsx("p",{className:"text-gray-400 text-sm",children:"You have no notifications yet."}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"We'll notify you about important updates and events."})]})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>a(!n),className:`w-10 h-10 bg-gradient-to-r ${(x==null?void 0:x.role)==="admin"?"from-red-500 to-orange-500":(x==null?void 0:x.role)==="host"?"from-green-500 to-emerald-500":"from-purple-500 to-blue-500"} rounded-full flex items-center justify-center hover:scale-105 transition-transform duration-200`,children:e.jsx("span",{className:"text-white text-sm font-medium",children:((m==null?void 0:m.displayName)||(m==null?void 0:m.email)||"U")[0].toUpperCase()})}),n&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-neutral-800 rounded-md shadow-lg border border-gray-700 z-50",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[e.jsx("div",{className:"text-sm font-medium text-white",children:(m==null?void 0:m.displayName)||((S=m==null?void 0:m.email)==null?void 0:S.split("@")[0])}),e.jsx("div",{className:"text-xs text-gray-400 capitalize",children:x==null?void 0:x.role})]}),e.jsx("button",{onClick:w,className:"block w-full text-left px-4 py-2 text-sm text-gray-300 hover:text-white hover:bg-gray-700 transition-colors duration-200",children:"Sign Out"})]})})]})]})]})}),e.jsx("div",{className:"md:hidden",children:e.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-neutral-800",children:j.map(E=>e.jsx("button",{onClick:()=>N(E.view),className:`block w-full text-left px-4 py-3 rounded-lg text-base font-medium transition-all duration-300 ${E.current?"text-white bg-gradient-to-r from-purple-600 to-blue-600 shadow-lg":"text-gray-300 hover:text-white hover:bg-gray-700"}`,children:E.name},E.name))})}),(n||o)&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{a(!1),i(!1)}})]})},gi=({event:t,isOpen:s,onClose:r,onBookingSuccess:n})=>{const{user:a,userData:o}=I(),[i,l]=g.useState(!1),[c,u]=g.useState(1),[h,m]=g.useState(null);if(!s||!t||!a||!o)return null;const x=t.price*c,v=t.seatsLeft!==void 0&&t.seatsLeft!==null?t.seatsLeft:Math.max(0,(t.capacity||t.totalTickets||100)-(t.ticketsSold||0)),f=Math.min(v,10),y=async()=>{if(!a||!o)return;const w=new Date(t.date),p=new Date;if(p.setHours(0,0,0,0),w<p){m("This event has already passed and is no longer available for booking");return}l(!0),m(null);try{const d=await hi(a.uid,a.email||o.email,o.displayName||a.displayName||"User",t.id,c);if(!d.success){m(d.error||"Failed to create booking");return}try{const b=d.qrCode||"";console.log(" QR code from booking result:",b?`Found QR code (${b.length} chars)`:"No QR code"),await Ys.sendBookingConfirmationEmail({userEmail:a.email||o.email,userName:o.displayName||a.displayName||"User",eventTitle:t.title,eventDate:new Date(t.date).toLocaleDateString(),eventTime:t.time,eventLocation:t.location,bookingId:d.bookingId,totalAmount:x,ticketCount:c,qrCode:b})}catch(b){console.error("Failed to send confirmation email:",b)}n(d.bookingId),r()}catch(d){console.error("Booking error:",d),m(d.message||"An unexpected error occurred")}finally{l(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-neutral-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Book Event"}),e.jsx("button",{onClick:r,disabled:i,className:"text-gray-400 hover:text-white transition-colors duration-200 disabled:opacity-50",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:t.title}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(t.date).toLocaleDateString()," at ",t.time]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.location]})]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Number of Tickets"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>u(Math.max(1,c-1)),disabled:c<=1||i,className:"w-10 h-10 rounded-lg bg-neutral-700 text-white flex items-center justify-center hover:bg-neutral-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"-"}),e.jsx("span",{className:"text-xl font-semibold text-white w-12 text-center",children:c}),e.jsx("button",{onClick:()=>u(Math.min(f,c+1)),disabled:c>=f||i,className:"w-10 h-10 rounded-lg bg-neutral-700 text-white flex items-center justify-center hover:bg-neutral-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"+"})]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[v," seats available  Max ",f," tickets per booking"]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-neutral-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-300",children:"Price per ticket"}),e.jsxs("span",{className:"text-white",children:["$",t.price]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-300",children:"Quantity"}),e.jsx("span",{className:"text-white",children:c})]}),e.jsx("div",{className:"border-t border-gray-600 pt-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-semibold text-white",children:"Total"}),e.jsxs("span",{className:"text-lg font-semibold text-purple-400",children:["$",x]})]})})]}),h&&e.jsx("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-700 rounded-lg",children:e.jsx("p",{className:"text-red-300 text-sm",children:h})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:y,disabled:i||v<c,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-purple-600/50 text-white font-medium py-3 rounded-lg transition-colors duration-200 flex items-center justify-center",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Booking..."]}):`Book ${c} Ticket${c!==1?"s":""} - $${x}`}),e.jsx("button",{onClick:r,disabled:i,className:"w-full border border-gray-600 text-gray-300 hover:text-white hover:border-gray-500 disabled:opacity-50 font-medium py-3 rounded-lg transition-colors duration-200",children:"Cancel"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"By booking, you agree to our terms and conditions. You will receive a confirmation email with your ticket."})]})]})})},vi=({id:t,type:s,title:r,message:n,duration:a=5e3,onClose:o})=>{const[i,l]=g.useState(!1),[c,u]=g.useState(!1);g.useEffect(()=>{const v=setTimeout(()=>l(!0),100);return()=>clearTimeout(v)},[]),g.useEffect(()=>{if(a>0){const v=setTimeout(()=>{h()},a);return()=>clearTimeout(v)}},[a]);const h=()=>{u(!0),setTimeout(()=>{o(t)},300)},m=()=>{switch(s){case"success":return"bg-green-900/90 border-green-700 text-green-100";case"error":return"bg-red-900/90 border-red-700 text-red-100";case"warning":return"bg-yellow-900/90 border-yellow-700 text-yellow-100";case"info":default:return"bg-blue-900/90 border-blue-700 text-blue-100"}},x=()=>{switch(s){case"success":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"error":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"warning":return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":default:return e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return e.jsx("div",{className:`
        fixed top-4 right-4 z-50 max-w-sm w-full
        transform transition-all duration-300 ease-in-out
        ${i&&!c?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
      `,children:e.jsx("div",{className:`
        rounded-lg border backdrop-blur-sm shadow-lg p-4
        ${m()}
      `,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:x()}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("h3",{className:"text-sm font-medium",children:r}),n&&e.jsx("p",{className:"mt-1 text-sm opacity-90",children:n})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsx("button",{onClick:h,className:"inline-flex text-current hover:opacity-75 transition-opacity",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]})})})},bi=({toasts:t,onRemoveToast:s})=>e.jsx("div",{className:"fixed top-0 right-0 z-50 p-4 space-y-2",children:t.map((r,n)=>e.jsx("div",{style:{transform:`translateY(${n*10}px)`,zIndex:50-n},children:e.jsx(vi,{...r,onClose:s})},r.id))}),yi=()=>{const[t,s]=g.useState([]),r=c=>{const u=Math.random().toString(36).substr(2,9),h={...c,id:u,onClose:n};return s(m=>[...m,h]),u},n=c=>{s(u=>u.filter(h=>h.id!==c))};return{toasts:t,addToast:r,removeToast:n,showSuccess:(c,u)=>r({type:"success",title:c,message:u}),showError:(c,u)=>r({type:"error",title:c,message:u}),showInfo:(c,u)=>r({type:"info",title:c,message:u}),showWarning:(c,u)=>r({type:"warning",title:c,message:u})}},wi=({searchQuery:t=""})=>{const{user:s,userData:r}=I(),[n,a]=g.useState("all"),[o,i]=g.useState([]),[l,c]=g.useState(!0),[u,h]=g.useState(!1),[m,x]=g.useState(""),v=t||m,[f,y]=g.useState(null),[w,p]=g.useState(!1),{toasts:d,showSuccess:b,showError:j,removeToast:k}=yi();g.useEffect(()=>{(async()=>{c(!0);try{const A=await He({category:n==="all"?void 0:n,query:v||void 0});i(A)}catch(L){console.error("Error fetching events:",L),i([])}finally{c(!1)}})()},[n,v,t]);const N=[{id:"all",name:"All Events"},{id:"music",name:"Music"},{id:"technology",name:"Technology"},{id:"art",name:"Art & Culture"},{id:"food",name:"Food & Drink"},{id:"sports",name:"Sports"},{id:"entertainment",name:"Entertainment"},{id:"business",name:"Business"},{id:"education",name:"Education"}],C=E=>{if(!s||!r){j("Authentication Required","Please log in to book events");return}if(r.role!=="user"){j("Booking Restricted","Only users can book events");return}const L=new Date(E.date),A=new Date;if(A.setHours(0,0,0,0),L<A){j("Event Passed","This event has already passed and is no longer available for booking");return}if(E.status!=="published"&&E.status!=="approved"){j("Event Unavailable","This event is not available for booking");return}if((E.seatsLeft!==void 0&&E.seatsLeft!==null?E.seatsLeft:Math.max(0,(E.capacity||E.totalTickets||100)-(E.ticketsSold||0)))<=0){j("Sold Out","This event is sold out");return}y(E),p(!0)},R=E=>{b("Booking Confirmed!","Your ticket has been booked successfully. Check your email for confirmation."),(async()=>{try{const D=await He({category:n==="all"?void 0:n,query:v||void 0});i(D)}catch(A){console.error("Error refreshing events:",A)}})()},S=()=>{p(!1),y(null)};return e.jsx("section",{id:"explore-events",className:"py-16 bg-black scroll-mt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Explore Events"}),e.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto mb-8",children:"Discover amazing events happening near you"}),v&&e.jsx("div",{className:"max-w-4xl mx-auto mb-4",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-400",children:o.length>0?`Found ${o.length} event${o.length===1?"":"s"} for "${v}"`:`No events found for "${v}"`})})})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-12",children:N.map(E=>e.jsx("button",{onClick:()=>a(E.id),className:`px-6 py-3 rounded-full text-sm font-medium transition-all duration-200 ${n===E.id?"bg-purple-600 text-white shadow-lg transform scale-105":"bg-neutral-800 text-gray-300 hover:text-white hover:bg-neutral-700"}`,children:E.name},E.id))}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("button",{onClick:()=>h(!u),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${u?"bg-red-600 text-white":"bg-neutral-800 text-gray-300 hover:text-white hover:bg-neutral-700"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),u?"Hide Past Events":"Show Past Events"]})}),l&&e.jsxs("div",{className:"flex justify-center items-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"}),e.jsx("span",{className:"ml-4 text-white",children:"Loading events..."})]}),!l&&o.length>0&&(()=>{const E=u?o:o.filter(L=>{const A=new Date(L.date),D=new Date;return D.setHours(0,0,0,0),A>=D});return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:E.map(L=>e.jsxs("div",{className:"bg-neutral-800 rounded-xl overflow-hidden border border-gray-700 hover:border-purple-500/50 transition-all duration-300 transform hover:scale-105",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:L.image,alt:L.title,className:"w-full h-full object-cover",onError:A=>{A.currentTarget.src=de()}}),e.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2",children:[e.jsxs("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-medium shadow-lg",children:["$",L.price]}),(()=>{const A=new Date(L.date),D=new Date;return D.setHours(0,0,0,0),A<D?e.jsx("span",{className:"bg-red-600 text-white px-3 py-1 rounded-full text-sm font-medium shadow-lg",children:"Past Event"}):null})()]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:L.title}),e.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-2",children:L.description}),L.tags&&L.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[L.tags.slice(0,3).map((A,D)=>e.jsx("span",{className:"bg-purple-600/20 text-purple-300 px-2 py-1 rounded-full text-xs",children:A},D)),L.tags.length>3&&e.jsxs("span",{className:"text-gray-400 text-xs px-2 py-1",children:["+",L.tags.length-3," more"]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(L.date).toLocaleDateString()," at ",L.time]}),e.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),L.location]}),e.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(()=>{const A=L.seatsLeft,D=L.capacity||L.totalTickets||100,we=L.ticketsSold||0;return A!=null?`${A} seats left`:`${Math.max(0,D-we)} seats left`})()]})]}),s&&(r==null?void 0:r.role)==="user"?(()=>{const A=new Date(L.date),D=new Date;D.setHours(0,0,0,0);const we=A<D,Xe=L.seatsLeft!==void 0&&L.seatsLeft!==null?L.seatsLeft:Math.max(0,(L.capacity||L.totalTickets||100)-(L.ticketsSold||0)),Bt=!we&&Xe>0&&(L.status==="published"||L.status==="approved");return e.jsx("button",{onClick:()=>C(L),disabled:!Bt,className:`w-full font-medium py-3 rounded-lg transition-all duration-200 transform hover:scale-105 shadow-lg ${Bt?"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:we?"Event Passed":Xe<=0?"Sold Out":L.status!=="published"&&L.status!=="approved"?"Not Available":"Book Now"})})():e.jsx("button",{onClick:()=>{s?j("Booking Restricted","Only users can book events"):j("Login Required","Please log in to book events")},className:"w-full bg-gray-600 hover:bg-gray-700 text-gray-300 font-medium py-3 rounded-lg transition-colors duration-200",children:s?"View Details":"Login to Book"})]})]},L.id))})})(),!l&&o.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-2xl font-semibold text-white mb-2",children:"No Events Found"}),e.jsx("p",{className:"text-gray-400",children:v||n!=="all"?"Try adjusting your search or filters to discover more events.":"No events are currently available. Check back soon for exciting new events!"})]}),e.jsx(gi,{event:f,isOpen:w,onClose:S,onBookingSuccess:R}),e.jsx(bi,{toasts:d,onRemoveToast:k})]})})},ji=({booking:t,isOpen:s,onClose:r})=>!s||!t?null:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-neutral-800 rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Your Ticket"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors duration-200",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"relative h-32 rounded-lg overflow-hidden mb-6",children:[e.jsx("img",{src:t.eventImage,alt:t.eventTitle,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsx("div",{className:"absolute bottom-3 left-3",children:e.jsx("h3",{className:"text-white font-semibold text-lg",children:t.eventTitle})})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Ticket Type"}),e.jsx("span",{className:"text-white font-medium",children:t.ticketTier.toUpperCase()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Date & Time"}),e.jsxs("span",{className:"text-white font-medium",children:[new Date(t.eventDate).toLocaleDateString()," at ",t.eventTime]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Venue"}),e.jsx("span",{className:"text-white font-medium",children:t.eventLocation})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Tickets"}),e.jsx("span",{className:"text-white font-medium",children:t.ticketCount})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Total Paid"}),e.jsxs("span",{className:"text-white font-medium",children:["$",t.totalAmount]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Booking ID"}),e.jsx("span",{className:"text-white font-medium text-sm",children:t.id})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[e.jsx("div",{className:"w-48 h-48 mx-auto mb-4 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:t.qrCode?e.jsx("img",{src:t.qrCode,alt:"Ticket QR Code",className:"w-full h-full object-contain"}):e.jsx("div",{className:"text-gray-500 text-sm",children:"QR Code not available"})}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Show this QR code at the venue entrance"}),e.jsx("p",{className:"text-gray-500 text-xs mt-1 break-all",children:t.qrCodeData||t.id})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${t.status==="confirmed"?"bg-green-900/50 text-green-300 border border-green-700":t.status==="pending"?"bg-yellow-900/50 text-yellow-300 border border-yellow-700":"bg-gray-900/50 text-gray-300 border border-gray-700"}`,children:[t.status==="confirmed"&&" ",t.status==="pending"&&" ",t.status.charAt(0).toUpperCase()+t.status.slice(1)]})}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsx("button",{onClick:()=>{console.log("Download ticket")},className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 rounded-lg transition-colors duration-200",children:"Download Ticket"}),e.jsx("button",{onClick:()=>{console.log("Share ticket")},className:"w-full border border-gray-600 text-gray-300 hover:text-white hover:border-gray-500 font-medium py-3 rounded-lg transition-colors duration-200",children:"Share Ticket"})]})]})]})}),Ni=()=>{const{user:t}=I(),[s,r]=g.useState("upcoming"),[n,a]=g.useState([]),[o,i]=g.useState(!0),[l,c]=g.useState(null),[u,h]=g.useState(!1);g.useEffect(()=>{if(!t||!T){a([]),i(!1);return}i(!0);const d=Q(F(T,"bookings"),X("userId","==",t.uid)),b=ke(d,j=>{const k=[];j.forEach(N=>{k.push({id:N.id,...N.data()})}),k.sort((N,C)=>{var E,L,A,D;const R=((L=(E=N.createdAt)==null?void 0:E.toMillis)==null?void 0:L.call(E))||0;return(((D=(A=C.createdAt)==null?void 0:A.toMillis)==null?void 0:D.call(A))||0)-R}),a(k),i(!1),console.log(" Real-time bookings update:",k.length,"bookings")},j=>{console.error("Error listening to bookings:",j),a([]),i(!1)});return()=>b()},[t]);const m=n.filter(d=>new Date(d.eventDate)>=new Date&&d.status!=="cancelled"),x=n.filter(d=>new Date(d.eventDate)<new Date||d.status==="attended"),v=d=>{switch(d){case"confirmed":case"booked":return"bg-green-900/50 text-green-300 border-green-700";case"pending":return"bg-yellow-900/50 text-yellow-300 border-yellow-700";case"attended":return"bg-blue-900/50 text-blue-300 border-blue-700";case"cancelled":return"bg-red-900/50 text-red-300 border-red-700";default:return"bg-gray-900/50 text-gray-300 border-gray-700"}},f=d=>{switch(d){case"confirmed":case"booked":return"";case"pending":return"";case"attended":return"";case"cancelled":return"";default:return"?"}},y=s==="upcoming"?m:x,w=d=>{c(d),h(!0)},p=()=>{h(!1),c(null)};return e.jsx("section",{id:"my-dashboard",className:"py-16 bg-black scroll-mt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"My Bookings"}),e.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Manage your event tickets and booking history"})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"bg-neutral-800 rounded-lg p-1 flex",children:[e.jsxs("button",{onClick:()=>r("upcoming"),className:`px-6 py-3 rounded-md text-sm font-medium transition-all duration-200 ${s==="upcoming"?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:["Upcoming Events (",m.length,")"]}),e.jsxs("button",{onClick:()=>r("past"),className:`px-6 py-3 rounded-md text-sm font-medium transition-all duration-200 ${s==="past"?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:["Past Events (",x.length,")"]})]})}),o&&e.jsxs("div",{className:"flex justify-center items-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"}),e.jsx("span",{className:"ml-4 text-white",children:"Loading bookings..."})]}),!o&&y.length>0&&e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:y.map(d=>e.jsx("div",{className:"bg-neutral-800 rounded-xl overflow-hidden border border-gray-700 hover:border-purple-500/50 transition-all duration-300",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-32 h-32 flex-shrink-0",children:e.jsx("img",{src:d.eventImage,alt:d.eventTitle,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:d.eventTitle}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${v(d.status)}`,children:[f(d.status)," ",d.status.charAt(0).toUpperCase()+d.status.slice(1)]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(d.eventDate).toLocaleDateString()," at ",d.eventTime]}),e.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),d.eventLocation]}),e.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),d.ticketCount," ticket",d.ticketCount!==1?"s":"","  ",d.ticketTier.toUpperCase(),"  $",d.totalAmount]})]}),e.jsxs("div",{className:"flex space-x-2",children:[(d.status==="confirmed"||d.status==="booked")&&e.jsx("button",{onClick:()=>w(d),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 text-sm",children:"View Ticket"}),e.jsx("button",{className:"flex-1 border border-gray-600 text-gray-300 hover:text-white hover:border-gray-500 font-medium py-2 px-4 rounded-lg transition-colors duration-200 text-sm",children:"Details"})]})]})]})},d.id))}),!o&&y.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})})}),e.jsxs("h3",{className:"text-2xl font-semibold text-white mb-2",children:["No ",s==="upcoming"?"Upcoming":"Past"," Bookings"]}),e.jsx("p",{className:"text-gray-400 mb-6",children:s==="upcoming"?"You haven't booked any events yet. Explore amazing events happening near you!":"No past events to show. Start booking events to build your history!"}),s==="upcoming"&&e.jsx("button",{onClick:()=>{const d=document.getElementById("explore-events");d&&d.scrollIntoView({behavior:"smooth"})},className:"bg-purple-600 hover:bg-purple-700 text-white font-medium px-6 py-3 rounded-lg transition-colors duration-200",children:"Explore Events"})]}),e.jsx(ji,{booking:l,isOpen:u,onClose:p})]})})},ki=()=>{$();const{user:t}=I(),[s,r]=g.useState("active"),[n,a]=g.useState([]),[o,i]=g.useState(!0);g.useEffect(()=>{(async()=>{if(t){i(!0);try{const d=await ii(t.uid,t.email||void 0);a(d)}catch{a([])}finally{i(!1)}}})()},[t]);const l=["completed","ended","cancelled","expired","rejected","declined"],c=["pending","draft","submitted","under_review"],u=p=>{const d=new Date(p),b=new Date;return b.setHours(0,0,0,0),d<b},h=n.filter(p=>{var N;const d=((N=p.status)==null?void 0:N.toLowerCase())||"",b=l.some(C=>C.toLowerCase()===d),j=u(p.date),k=c.some(C=>C.toLowerCase()===d);return!b&&!j&&!k}),m=n.filter(p=>{const d=u(p.date);return c.includes(p.status)&&!d}),x=n.filter(p=>{var k;const d=((k=p.status)==null?void 0:k.toLowerCase())||"",b=l.some(N=>N.toLowerCase()===d),j=u(p.date);return b||j}),v=p=>{switch(p){case"published":case"approved":case"active":return"bg-green-900/50 text-green-300 border-green-700";case"draft":case"pending":return"bg-yellow-900/50 text-yellow-300 border-yellow-700";case"completed":case"ended":return"bg-blue-900/50 text-blue-300 border-blue-700";case"cancelled":return"bg-red-900/50 text-red-300 border-red-700";default:return"bg-gray-900/50 text-gray-300 border-gray-700"}},f=p=>{switch(p){case"published":case"approved":case"active":return"";case"draft":case"pending":return"";case"completed":case"ended":return"";case"cancelled":return"";default:return"?"}},w=(()=>{switch(s){case"active":return h;case"pending":return m;case"past":return x;default:return[]}})();return e.jsx("section",{id:"my-dashboard",className:"py-16 bg-black scroll-mt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center md:text-left mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"My Events"}),e.jsx("p",{className:"text-xl text-gray-400",children:"Manage your events and track performance"})]}),o&&e.jsxs("div",{className:"flex justify-center items-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"}),e.jsx("span",{className:"ml-4 text-white",children:"Loading events..."})]}),!o&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-neutral-800 rounded-xl p-6 border border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:h.length}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Active Events"})]}),e.jsx("div",{className:"w-12 h-12 bg-green-600/20 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"bg-neutral-800 rounded-xl p-6 border border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:m.length}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Pending Approval"})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-600/20 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),e.jsx("div",{className:"bg-neutral-800 rounded-xl p-6 border border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:h.reduce((p,d)=>p+(d.ticketsSold||0),0)}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Total Tickets Sold"})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-600/20 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})})})]})}),e.jsx("div",{className:"bg-neutral-800 rounded-xl p-6 border border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",h.reduce((p,d)=>p+(d.revenue||0),0).toLocaleString()]}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Total Revenue"})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-600/20 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})})]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"bg-neutral-800 rounded-lg p-1 flex",children:[e.jsxs("button",{onClick:()=>r("active"),className:`px-6 py-3 rounded-md text-sm font-medium transition-all duration-200 ${s==="active"?"bg-green-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:["Active Events (",h.length,")"]}),e.jsxs("button",{onClick:()=>r("pending"),className:`px-6 py-3 rounded-md text-sm font-medium transition-all duration-200 ${s==="pending"?"bg-yellow-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:["Pending Events (",m.length,")"]}),e.jsxs("button",{onClick:()=>r("past"),className:`px-6 py-3 rounded-md text-sm font-medium transition-all duration-200 ${s==="past"?"bg-gray-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:["Past Events (",x.length,")"]})]})}),!o&&w.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(p=>e.jsxs("div",{className:"bg-neutral-800 rounded-xl overflow-hidden border border-gray-700 hover:border-purple-500/50 transition-all duration-300",children:[e.jsxs("div",{className:"relative h-32",children:[e.jsx("img",{src:p.image,alt:p.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-3 right-3",children:(()=>{const d=u(p.date),b=d?"Event Ended":p.status.charAt(0).toUpperCase()+p.status.slice(1),j=d?"bg-red-600/20 text-red-400 border-red-600/30":v(p.status),k=d?"":f(p.status);return e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${j}`,children:[k," ",b]})})()})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:p.title}),e.jsxs("div",{className:"space-y-1 mb-4",children:[e.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(p.date).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),p.location]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-white",children:p.ticketsSold||0}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Sold"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-white",children:p.totalTickets||p.capacity||0}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Total"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-white",children:["$",p.revenue||0]}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Revenue"})]})]}),e.jsx("button",{className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 rounded-lg transition-colors duration-200",children:"Manage Event"})]})]},p.id))}),!o&&w.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 ${s==="active"?"bg-green-600/20":s==="pending"?"bg-yellow-600/20":"bg-gray-600/20"}`,children:e.jsx("svg",{className:`w-10 h-10 ${s==="active"?"text-green-400":s==="pending"?"text-yellow-400":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s==="pending"?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("h3",{className:"text-2xl font-semibold text-white mb-2",children:["No ",s==="active"?"Active":s==="pending"?"Pending":"Past"," Events"]}),e.jsx("p",{className:"text-gray-400 mb-6",children:s==="active"?"No active events yet. Your approved events will appear here once they're live.":s==="pending"?"No pending events. Use the Create Event button in the navigation bar to create your first event!":"No past events to show. Your completed events will appear here."})]})]})})};class me{constructor(){}static getInstance(){return me.instance||(me.instance=new me),me.instance}async logAction(s){try{if(!T){console.warn("Database not initialized, skipping log entry");return}const r={...s,timestamp:U.now()};await bt(F(T,"adminLogs"),r),console.log("Admin action logged:",r)}catch(r){console.error("Failed to log admin action:",r)}}async logHostRequestApproval(s,r,n,a,o){await this.logAction({adminId:s,adminEmail:r,action:"approved",targetType:"hostRequest",targetId:n,targetName:o||a,details:`Host request approved for ${o||a}. User is now a host.`,metadata:{userEmail:a,userName:o,newRole:"host"}})}async logHostRequestRejection(s,r,n,a,o,i){await this.logAction({adminId:s,adminEmail:r,action:"rejected",targetType:"hostRequest",targetId:n,targetName:i||a,details:`Host request rejected for ${i||a}. Reason: ${o}`,metadata:{userEmail:a,userName:i,rejectionReason:o}})}async logEventApproval(s,r,n,a,o){await this.logAction({adminId:s,adminEmail:r,action:"approved",targetType:"event",targetId:n,targetName:a,details:`Event "${a}" approved and published${o?` for host ${o}`:""}.`,metadata:{eventTitle:a,hostEmail:o,newStatus:"approved"}})}async logEventRejection(s,r,n,a,o,i){await this.logAction({adminId:s,adminEmail:r,action:"rejected",targetType:"event",targetId:n,targetName:a,details:`Event "${a}" rejected${i?` for host ${i}`:""}. Reason: ${o}`,metadata:{eventTitle:a,hostEmail:i,rejectionReason:o,newStatus:"rejected"}})}async logUserRoleUpdate(s,r,n,a,o,i,l){await this.logAction({adminId:s,adminEmail:r,action:"updated",targetType:"user",targetId:n,targetName:l||a,details:`User role updated for ${l||a}: ${o}  ${i}`,metadata:{userEmail:a,userName:l,oldRole:o,newRole:i,updateType:"role"}})}async logUserStatusUpdate(s,r,n,a,o,i){await this.logAction({adminId:s,adminEmail:r,action:o==="active"?"activated":"deactivated",targetType:"user",targetId:n,targetName:i||a,details:`User ${i||a} ${o==="active"?"activated":"deactivated"}`,metadata:{userEmail:a,userName:i,newStatus:o,updateType:"status"}})}async logEventDeletion(s,r,n,a,o){await this.logAction({adminId:s,adminEmail:r,action:"deleted",targetType:"event",targetId:n,targetName:a,details:`Event "${a}" deleted${o?` (hosted by ${o})`:""}`,metadata:{eventTitle:a,hostEmail:o,actionType:"deletion"}})}async logHostRequestDeletion(s,r,n,a,o){await this.logAction({adminId:s,adminEmail:r,action:"deleted",targetType:"hostRequest",targetId:n,targetName:o||a,details:`Host request deleted for ${o||a}`,metadata:{userEmail:a,userName:o,actionType:"deletion"}})}async logUserDeletion(s,r,n,a,o,i){await this.logAction({adminId:s,adminEmail:r,action:"deleted",targetType:"user",targetId:n,targetName:i||a,details:`User account permanently deleted: ${i||a} (${o}). All user data removed from system.`,metadata:{userEmail:a,userName:i,userRole:o,deletionType:"complete",deletionReason:"Admin action - permanent removal",deletedAt:new Date().toISOString()}})}async logSystemEvent(s,r,n="system",a,o){await this.logAction({adminId:"system",adminEmail:"system@tickzy.com",action:s,targetType:n,targetId:a||"system",details:r,metadata:o})}}const ne=me.getInstance(),Ei=()=>{const{user:t}=I(),[s,r]=g.useState([]),[n,a]=g.useState(!0),[o,i]=g.useState(null);g.useEffect(()=>{l()},[]);const l=async()=>{a(!0);try{const x=(await Y(F(T,"users"))).docs.map(v=>{const f=v.data();return{id:v.id,email:f.email||"",displayName:f.displayName||f.name||"",role:f.role||"user",isActive:f.isActive!==void 0?f.isActive:!0,createdAt:f.createdAt,updatedAt:f.updatedAt}});x.sort((v,f)=>{if(v.createdAt&&f.createdAt){const y=v.createdAt.toDate?v.createdAt.toDate():new Date(v.createdAt);return(f.createdAt.toDate?f.createdAt.toDate():new Date(f.createdAt)).getTime()-y.getTime()}return v.email.localeCompare(f.email)}),r(x)}catch(m){console.error("Error fetching users:",m)}finally{a(!1)}},c=async(m,x)=>{i(m);try{const v=s.find(f=>f.id===m);await K(P(T,"users",m),{role:x,updatedAt:new Date}),t&&v&&await ne.logUserRoleUpdate(t.uid,t.email||"admin@tickzy.com",m,v.email,v.role,x,v.displayName),r(s.map(f=>f.id===m?{...f,role:x}:f))}catch(v){console.error("Error updating user role:",v)}finally{i(null)}},u=async m=>{const x=s.find(w=>w.id===m);if(!x){alert("User not found");return}if(!window.confirm(` PERMANENT DELETION WARNING 

This will PERMANENTLY DELETE:
 User: ${x.displayName||x.email}
 All their data from Firebase
 All their events, bookings, and history
 This action CANNOT be undone!

Are you absolutely sure you want to delete this user?`)||!window.confirm(` FINAL CONFIRMATION 

You are about to PERMANENTLY DELETE ${x.email}

Type "DELETE" in the next prompt to confirm.`))return;if(prompt(`Type "DELETE" (in capital letters) to confirm permanent deletion of ${x.email}:`)!=="DELETE"){alert("Deletion cancelled - confirmation text did not match.");return}i(m);try{console.log(" Starting complete user deletion for:",x.email),await yt(P(T,"users",m)),console.log(" User document deleted from Firestore"),t&&await ne.logAction({adminId:t.uid,adminEmail:t.email||"admin@tickzy.com",action:"deleted",targetType:"user",targetId:m,targetName:x.displayName||x.email,details:`User account permanently deleted: ${x.email}. All user data removed from system.`,metadata:{userEmail:x.email,userName:x.displayName,userRole:x.role,deletionReason:"Admin deactivation - complete removal",deletedAt:new Date().toISOString()}}),r(s.filter(w=>w.id!==m)),alert(` User ${x.email} has been permanently deleted from the system.`),console.log(" User deletion completed successfully")}catch(w){console.error(" Error deleting user:",w),alert(`Failed to delete user: ${w.message}`)}finally{i(null)}},h=m=>{switch(m){case"admin":return"bg-red-600 text-white";case"host":return"bg-green-600 text-white";default:return"bg-purple-600 text-white"}};return n?e.jsxs("div",{className:"flex justify-center items-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"}),e.jsx("span",{className:"ml-4 text-white",children:"Loading users..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"User Management"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("span",{className:"text-gray-400 text-sm",children:[s.length," users found"]}),e.jsx("button",{onClick:l,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"Refresh"})]})]}),e.jsx("div",{className:"bg-neutral-800 rounded-xl border border-gray-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"User"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Role"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:s.map(m=>e.jsxs("tr",{className:"hover:bg-neutral-700/50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:m.displayName||m.name||"No Name"}),e.jsx("div",{className:"text-gray-400 text-sm",children:m.email}),e.jsxs("div",{className:"text-gray-500 text-xs",children:["ID: ",m.id]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h(m.role)}`,children:m.role.toUpperCase()})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex space-x-2",children:[m.role!=="admin"&&e.jsxs("select",{value:m.role,onChange:x=>c(m.id,x.target.value),disabled:o===m.id,className:"bg-neutral-700 text-white text-sm rounded px-2 py-1 border border-gray-600",children:[e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"host",children:"Host"}),e.jsx("option",{value:"admin",children:"Admin"})]}),e.jsx("button",{onClick:()=>u(m.id),disabled:o===m.id,className:"px-3 py-1 rounded text-xs font-medium transition-colors duration-200 bg-red-600 hover:bg-red-700 text-white",children:o===m.id?"Deleting...":"Delete User"})]})})]},m.id))})]})})}),s.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Users Found"}),e.jsx("p",{className:"text-gray-400",children:"No users are registered in the system."})]})]})},Ci=({event:t,isOpen:s,onClose:r,onStatusUpdate:n})=>{const{user:a}=I(),[o,i]=g.useState(!1),[l,c]=g.useState(""),[u,h]=g.useState(!1);if(!s)return null;const m=async()=>{i(!0);try{await K(P(T,"events",t.id),{status:"approved",statusUpdatedAt:U.now(),statusUpdatedBy:"admin",updatedAt:U.now()}),a&&await ne.logEventApproval(a.uid,a.email||"admin@tickzy.com",t.id,t.title,t.hostEmail),n(t.id,"approved"),r()}catch(y){console.error("Error approving event:",y),alert("Failed to approve event. Please try again.")}finally{i(!1)}},x=async()=>{if(!l.trim()){alert("Please provide a reason for rejection.");return}i(!0);try{await K(P(T,"events",t.id),{status:"rejected",rejectionReason:l.trim(),statusUpdatedAt:U.now(),statusUpdatedBy:"admin",updatedAt:U.now()}),a&&await ne.logEventRejection(a.uid,a.email||"admin@tickzy.com",t.id,t.title,l.trim(),t.hostEmail),n(t.id,"rejected"),r()}catch(y){console.error("Error rejecting event:",y),alert("Failed to reject event. Please try again.")}finally{i(!1)}},v=y=>{try{return new Date(y).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return y}},f=y=>{try{const[w,p]=y.split(":"),d=new Date;return d.setHours(parseInt(w),parseInt(p)),d.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return y}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-neutral-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:[e.jsxs("div",{className:"sticky top-0 bg-neutral-800 border-b border-gray-700 p-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Review Event Submission"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("div",{className:"relative h-64 rounded-lg overflow-hidden",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-4",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:t.title}),e.jsx("p",{className:"text-gray-200",children:t.location})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Event Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"text-gray-300",children:v(t.date)})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-gray-300",children:f(t.time)})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"text-gray-300",children:t.location})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),e.jsxs("span",{className:"text-gray-300",children:["$",t.price," per ticket"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsxs("span",{className:"text-gray-300",children:[t.capacity," max capacity"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Host Information"}),e.jsx("div",{className:"bg-neutral-700 rounded-lg p-4 space-y-2",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-medium",children:(t.hostName||t.hostEmail||"U")[0].toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:t.hostName||"Unknown Host"}),e.jsx("p",{className:"text-gray-400 text-sm",children:t.hostEmail})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Description"}),e.jsx("div",{className:"bg-neutral-700 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-300 leading-relaxed",children:t.description})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Venue Documentation"}),e.jsx("div",{className:"bg-neutral-700 rounded-lg p-4",children:t.venueProofPDF?e.jsxs("a",{href:t.venueProofPDF,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-blue-400 hover:text-blue-300 transition-colors",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{children:"View Venue Booking Proof (PDF)"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}):e.jsx("p",{className:"text-red-400",children:" No venue documentation provided"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Submission Details"}),e.jsxs("div",{className:"bg-neutral-700 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Status:"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${t.status==="pending"?"bg-yellow-600 text-white":t.status==="approved"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:t.status.toUpperCase()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Submitted:"}),e.jsx("span",{className:"text-gray-300",children:t.createdAt?new Date(t.createdAt.toDate()).toLocaleDateString():"Unknown"})]})]})]})]})]}),u&&e.jsxs("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Rejection Reason"}),e.jsx("textarea",{value:l,onChange:y=>c(y.target.value),placeholder:"Please provide a detailed reason for rejecting this event...",className:"w-full h-32 bg-neutral-700 border border-gray-600 rounded-lg p-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"})]}),t.status==="pending"&&e.jsx("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700",children:u?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{h(!1),c("")},disabled:o,className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors duration-200",children:"Cancel"}),e.jsx("button",{onClick:x,disabled:o||!l.trim(),className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors duration-200 disabled:opacity-50",children:o?"Rejecting...":"Confirm Rejection"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>h(!0),disabled:o,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors duration-200 disabled:opacity-50",children:"Reject Event"}),e.jsx("button",{onClick:m,disabled:o,className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors duration-200 disabled:opacity-50",children:o?"Approving...":"Approve Event"})]})})]})]})})},Li=()=>{const[t,s]=g.useState([]),[r,n]=g.useState(!0),[a,o]=g.useState(null),[i,l]=g.useState(null),[c,u]=g.useState(!1);g.useEffect(()=>{h()},[]);const h=async()=>{n(!0);try{const p=await Y(F(T,"events")),d=await Y(F(T,"users")),b=new Map;d.docs.forEach(k=>{b.set(k.id,k.data())});const j=p.docs.map(k=>{const N=k.data();let C="TBD";N.location&&(typeof N.location=="string"?C=N.location:N.location._lat!==void 0&&N.location._long!==void 0?C=`${N.location._lat}, ${N.location._long}`:N.location.latitude!==void 0&&N.location.longitude!==void 0?C=`${N.location.latitude}, ${N.location.longitude}`:C="Location data available");let R=new Date().toISOString();N.date&&(typeof N.date=="string"?R=N.date:N.date.toDate?R=N.date.toDate().toISOString():N.date.seconds&&(R=new Date(N.date.seconds*1e3).toISOString()));const S={id:k.id,title:N.title||"Untitled Event",description:N.description||"",date:R,time:N.time||"00:00",location:C,price:N.price||0,capacity:N.capacity||0,image:N.image||"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=400",tags:Array.isArray(N.tags)?N.tags:[],hostId:N.hostId||N.host_id||"",status:N.status||"pending",ticketsSold:N.ticketsSold||0,revenue:N.revenue||0,createdAt:N.createdAt||N.created_at,updatedAt:N.updatedAt||N.updated_at,venueProofPDF:N.venueProofPDF||N.venueDocument||"",bannerURL:N.bannerURL||N.image||"",locationName:N.locationName||N.location||"",seatsLeft:N.seatsLeft||N.capacity||0},E=b.get(S.hostId);return E&&(S.hostEmail=E.email,S.hostName=E.displayName||E.name),S});j.sort((k,N)=>{if(k.createdAt&&N.createdAt){const C=k.createdAt.toDate?k.createdAt.toDate():new Date(k.createdAt);return(N.createdAt.toDate?N.createdAt.toDate():new Date(N.createdAt)).getTime()-C.getTime()}return 0}),s(j)}catch(p){console.error("Error fetching events:",p)}finally{n(!1)}},m=async(p,d)=>{o(p);try{await K(P(T,"events",p),{status:d,updatedAt:new Date}),s(t.map(b=>b.id===p?{...b,status:d}:b))}catch(b){console.error("Error updating event status:",b)}finally{o(null)}},x=p=>{l(p),u(!0)},v=()=>{l(null),u(!1)},f=(p,d)=>{s(t.map(b=>b.id===p?{...b,status:d}:b))},y=async p=>{if(confirm("Are you sure you want to delete this event? This action cannot be undone.")){o(p);try{await yt(P(T,"events",p)),s(t.filter(d=>d.id!==p))}catch(d){console.error("Error deleting event:",d)}finally{o(null)}}},w=p=>{switch(p){case"approved":return"bg-green-600 text-white";case"rejected":return"bg-red-600 text-white";case"cancelled":return"bg-gray-600 text-white";case"pending":return"bg-yellow-600 text-white";default:return"bg-purple-600 text-white"}};return r?e.jsxs("div",{className:"flex justify-center items-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"}),e.jsx("span",{className:"ml-4 text-white",children:"Loading events..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Event Management"}),e.jsx("button",{onClick:h,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"Refresh"})]}),e.jsx("div",{className:"bg-neutral-800 rounded-xl border border-gray-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-neutral-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Event"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Host"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Documents"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-300",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:t.map(p=>e.jsxs("tr",{className:"hover:bg-neutral-700/50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:p.image,alt:p.title,className:"w-12 h-12 rounded-lg object-cover",onError:d=>{d.currentTarget.src=de()}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:String(p.title)}),e.jsx("div",{className:"text-gray-400 text-sm",children:String(p.location)})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-white text-sm",children:String(p.hostName||"Unknown")}),e.jsx("div",{className:"text-gray-400 text-xs",children:String(p.hostEmail||"")})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-white text-sm",children:new Date(p.date).toLocaleDateString()}),e.jsx("div",{className:"text-gray-400 text-xs",children:String(p.time)})]}),e.jsx("td",{className:"px-6 py-4",children:p.venueProofPDF?e.jsxs("a",{href:p.venueProofPDF,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-1 text-blue-400 hover:text-blue-300 text-xs bg-blue-900/20 px-2 py-1 rounded",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{children:"Venue Proof"})]}):e.jsx("span",{className:"text-gray-500 text-xs",children:"No document"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${w(p.status)}`,children:p.status.toUpperCase()})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex space-x-2 flex-wrap",children:[e.jsx("button",{onClick:()=>x(p),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs font-medium transition-colors duration-200",children:"View"}),p.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>m(p.id,"approved"),disabled:a===p.id,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs font-medium transition-colors duration-200",children:"Approve"}),e.jsx("button",{onClick:()=>m(p.id,"rejected"),disabled:a===p.id,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-xs font-medium transition-colors duration-200",children:"Reject"})]}),p.status==="approved"&&e.jsx("button",{onClick:()=>m(p.id,"cancelled"),disabled:a===p.id,className:"bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-1 rounded text-xs font-medium transition-colors duration-200",children:"Cancel"}),e.jsx("button",{onClick:()=>y(p.id),disabled:a===p.id,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-xs font-medium transition-colors duration-200",children:a===p.id?"...":"Delete"})]})})]},p.id))})]})})}),t.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Events Found"}),e.jsx("p",{className:"text-gray-400",children:"No events have been created yet."})]}),i&&e.jsx(Ci,{event:i,isOpen:c,onClose:v,onStatusUpdate:f})]})},Si=({request:t,isOpen:s,onClose:r,onStatusUpdate:n})=>{const{user:a}=I(),[o,i]=g.useState(!1),[l,c]=g.useState(""),[u,h]=g.useState(!1);if(!s)return null;const m=async()=>{i(!0);try{const f=P(T,"users",t.userId);if(!(await re(f)).exists())throw new Error(`User document not found for ID: ${t.userId}`);await K(f,{role:"host",updatedAt:U.now(),hostApprovedAt:U.now(),hostApprovedBy:"admin"}),await K(P(T,"hostRequests",t.id),{status:"approved",statusUpdatedAt:U.now(),statusUpdatedBy:"admin",updatedAt:U.now()}),a&&await ne.logHostRequestApproval(a.uid,a.email||"admin@tickzy.com",t.id,t.email||"unknown@email.com",t.displayName),n(t.id,"approved"),r(),alert("Host request approved successfully! The user is now a host.")}catch(f){console.error("Error approving host request:",f),alert(`Failed to approve host request: ${f.message}`)}finally{i(!1)}},x=async()=>{if(!l.trim()){alert("Please provide a reason for rejection.");return}i(!0);try{await K(P(T,"hostRequests",t.id),{status:"rejected",rejectionReason:l.trim(),statusUpdatedAt:U.now(),statusUpdatedBy:"admin",updatedAt:U.now()}),a&&await ne.logHostRequestRejection(a.uid,a.email||"admin@tickzy.com",t.id,t.email||"unknown@email.com",l.trim(),t.displayName),n(t.id,"rejected"),r()}catch(f){console.error("Error rejecting host request:",f),alert("Failed to reject host request. Please try again.")}finally{i(!1)}},v=f=>{try{return f!=null&&f.toDate?f.toDate().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown"}catch{return"Unknown"}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-neutral-800 rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-gray-700",children:[e.jsxs("div",{className:"sticky top-0 bg-neutral-800 border-b border-gray-700 p-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Review Host Request"}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-900/30 to-blue-900/30 rounded-lg p-6 border border-purple-500/20",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl font-bold",children:(t.displayName||t.email||"U")[0].toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:t.displayName||"Unknown User"}),e.jsx("p",{className:"text-purple-200",children:t.email||"No email provided"}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["User ID: ",t.userId||"Unknown"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"Why do you want to become a host?"})]}),e.jsx("div",{className:"bg-neutral-700 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:t.reason||"No reason provided"})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Character count: ",(t.reason||"").length]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2V6"})}),e.jsx("span",{children:"Event Management Experience"})]}),e.jsx("div",{className:"bg-neutral-700 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap",children:t.experience||"No experience provided"})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Character count: ",(t.experience||"").length]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{children:"Event Manager License"})]}),e.jsx("div",{className:"bg-neutral-700 rounded-lg p-4",children:t.licensePDF?e.jsxs("a",{href:t.licensePDF,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-blue-400 hover:text-blue-300 transition-colors",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{children:"View Event Manager License (PDF)"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}):e.jsx("p",{className:"text-red-400",children:" No license documentation provided"})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"Request Details"})]}),e.jsxs("div",{className:"bg-neutral-700 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Status:"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${t.status==="pending"?"bg-yellow-600 text-white":t.status==="approved"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:t.status.toUpperCase()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Submitted:"}),e.jsx("span",{className:"text-gray-300 text-sm",children:v(t.createdAt)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Request ID:"}),e.jsx("span",{className:"text-gray-300 text-xs font-mono",children:t.id})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center space-x-2",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),e.jsx("span",{children:"Assessment Checklist"})]}),e.jsxs("div",{className:"bg-neutral-700 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:(t.reason||"").length>=50}),e.jsx("span",{className:"text-gray-300 text-sm",children:"Reason is detailed (50+ characters)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:(t.experience||"").length>=30}),e.jsx("span",{className:"text-gray-300 text-sm",children:"Experience is described (30+ characters)"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!!t.licensePDF}),e.jsx("span",{className:"text-gray-300 text-sm",children:"License documentation provided"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",className:"rounded"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"License appears valid and legitimate"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",className:"rounded"}),e.jsx("span",{className:"text-gray-300 text-sm",children:"Applicant shows genuine interest in hosting"})]})]})]})]})]}),u&&e.jsxs("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Rejection Reason"}),e.jsx("textarea",{value:l,onChange:f=>c(f.target.value),placeholder:"Please provide a detailed reason for rejecting this host request...",className:"w-full h-32 bg-neutral-700 border border-gray-600 rounded-lg p-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent resize-none"})]}),t.status==="pending"&&e.jsx("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700",children:u?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{h(!1),c("")},disabled:o,className:"px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors duration-200",children:"Cancel"}),e.jsx("button",{onClick:x,disabled:o||!l.trim(),className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors duration-200 disabled:opacity-50",children:o?"Rejecting...":"Confirm Rejection"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>h(!0),disabled:o,className:"px-6 py-3 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors duration-200 disabled:opacity-50",children:"Reject Request"}),e.jsx("button",{onClick:m,disabled:o,className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors duration-200 disabled:opacity-50",children:o?"Approving...":"Approve Request"})]})})]})]})})},Ti=()=>{const{user:t}=I(),[s,r]=g.useState([]),[n,a]=g.useState(!0),[o,i]=g.useState(null),[l,c]=g.useState(null),[u,h]=g.useState(!1);g.useEffect(()=>{m()},[]);const m=async()=>{a(!0);try{const d=["hostRequests","host_requests","host-requests","hostApplications","host_applications","requests","applications"];let b=null,j="";for(const R of d)try{const S=await Y(F(T,R));if(S.docs.length>0){b=S,j=R;break}}catch{}if(!b){r([]),a(!1);return}const k=await Y(F(T,"users")),N=new Map;k.docs.forEach(R=>{N.set(R.id,R.data())});const C=b.docs.map(R=>{const S=R.data(),E={id:R.id,userId:S.userId||S.user_id||"",userEmail:S.email||S.userEmail||S.user_email||"",userName:S.displayName||S.userName||S.user_name||S.name||"",reason:S.reason||S.message||"",experience:S.experience||S.background||"",licensePDF:S.licensePDF||S.license_pdf||S.licenseDocument||"",status:S.status||"pending",createdAt:S.createdAt||S.created_at||S.timestamp,displayName:S.displayName||S.userName||S.user_name||S.name||"",email:S.email||S.userEmail||S.user_email||""};if(E.userId&&!E.userEmail){const L=N.get(E.userId);L&&(E.userEmail=L.email,E.userName=L.displayName||L.name)}return E});C.sort((R,S)=>{if(R.createdAt&&S.createdAt){const E=R.createdAt.toDate?R.createdAt.toDate():new Date(R.createdAt);return(S.createdAt.toDate?S.createdAt.toDate():new Date(S.createdAt)).getTime()-E.getTime()}return 0}),r(C)}catch(d){console.error("Error fetching host requests:",d)}finally{a(!1)}},x=async d=>{i(d.id);try{const b=P(T,"users",d.userId);if(!(await re(b)).exists())throw new Error(`User document not found for ID: ${d.userId}`);await K(b,{role:"host",updatedAt:new Date,hostApprovedAt:new Date,hostApprovedBy:"admin"}),await K(P(T,"hostRequests",d.id),{status:"approved",processedAt:new Date,processedBy:"admin"}),t&&await ne.logHostRequestApproval(t.uid,t.email||"admin@tickzy.com",d.id,d.userEmail||"unknown@email.com",d.userName),r(s.map(k=>k.id===d.id?{...k,status:"approved"}:k)),alert("Host request approved successfully! The user is now a host.")}catch(b){console.error("Error approving host request:",b),alert(`Failed to approve host request: ${b.message}`)}finally{i(null)}},v=async d=>{i(d.id);try{const b=["hostRequests","host_requests","host-requests","hostApplications","host_applications","requests","applications"];let j=!1;for(const k of b)try{const N=P(T,k,d.id);if((await re(N)).exists()){await yt(N),j=!0;break}}catch{}if(!j)throw new Error("Request not found in any collection");t&&await ne.logHostRequestDeletion(t.uid,t.email||"admin@tickzy.com",d.id,d.userEmail||"unknown@email.com",d.userName),r(s.filter(k=>k.id!==d.id))}catch(b){console.error("Error rejecting host request:",b),alert("Error rejecting request. Please try again.")}finally{i(null)}},f=d=>{c(d),h(!0)},y=()=>{c(null),h(!1)},w=(d,b)=>{r(s.map(j=>j.id===d?{...j,status:b}:j))},p=d=>{switch(d){case"approved":return"bg-green-600 text-white";case"rejected":return"bg-red-600 text-white";case"pending":return"bg-yellow-600 text-white";default:return"bg-purple-600 text-white"}};return n?e.jsxs("div",{className:"flex justify-center items-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"}),e.jsx("span",{className:"ml-4 text-white",children:"Loading host requests..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Host Requests"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("span",{className:"text-gray-400 text-sm",children:[s.length," requests found"]}),e.jsx("button",{onClick:m,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"Refresh"})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.map(d=>{var b;return e.jsxs("div",{className:"bg-neutral-800 rounded-xl border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:d.userName||"Unknown User"}),e.jsx("p",{className:"text-gray-400 text-sm",children:d.userEmail}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:(b=d.createdAt)==null?void 0:b.toDate().toLocaleDateString()})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p(d.status)}`,children:d.status.toUpperCase()})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-1",children:"Reason for Request:"}),e.jsx("p",{className:"text-white text-sm bg-neutral-700 rounded p-3",children:d.reason||"No reason provided"})]}),d.experience&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-1",children:"Experience:"}),e.jsx("p",{className:"text-white text-sm bg-neutral-700 rounded p-3",children:d.experience})]}),d.licensePDF&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-1",children:"Event Manager License:"}),e.jsxs("a",{href:d.licensePDF,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 text-blue-400 hover:text-blue-300 bg-blue-900/20 px-3 py-2 rounded-lg transition-colors duration-200",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{children:"View License PDF"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>f(d),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 rounded-lg transition-colors duration-200",children:"View Details"}),d.status==="pending"&&e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>x(d),disabled:o===d.id,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-2 rounded-lg transition-colors duration-200",children:o===d.id?"Processing...":"Approve & Make Host"}),e.jsx("button",{onClick:()=>v(d),disabled:o===d.id,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-medium py-2 rounded-lg transition-colors duration-200",children:o===d.id?"Processing...":"Reject"})]})]}),d.status!=="pending"&&e.jsx("div",{className:"text-center py-2",children:e.jsxs("span",{className:"text-gray-400 text-sm",children:["Request has been ",d.status]})})]},d.id)})}),s.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Host Requests"}),e.jsx("p",{className:"text-gray-400",children:"No pending host requests at this time."})]}),l&&e.jsx(Si,{request:l,isOpen:u,onClose:y,onStatusUpdate:w})]})},Ri=()=>{const[t,s]=g.useState([]),[r,n]=g.useState(!0);g.useEffect(()=>{a()},[]);const a=async()=>{n(!0);try{const l=Q(F(T,"adminLogs"),Fe("timestamp","desc"),zr(100)),u=(await Y(l)).docs.map(h=>({id:h.id,...h.data()}));s(u)}catch(l){console.error("Error fetching admin logs:",l),s([])}finally{n(!1)}},o=l=>{switch(l.toLowerCase()){case"approve":case"approved":return e.jsx("div",{className:"w-8 h-8 bg-green-600/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})});case"reject":case"rejected":case"delete":case"deleted":return e.jsx("div",{className:"w-8 h-8 bg-red-600/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})});case"update":case"updated":return e.jsx("div",{className:"w-8 h-8 bg-blue-600/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})});default:return e.jsx("div",{className:"w-8 h-8 bg-purple-600/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}},i=l=>{switch(l){case"user":return"bg-purple-600/20 text-purple-300";case"event":return"bg-blue-600/20 text-blue-300";case"hostRequest":return"bg-green-600/20 text-green-300";default:return"bg-gray-600/20 text-gray-300"}};return r?e.jsxs("div",{className:"flex justify-center items-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"}),e.jsx("span",{className:"ml-4 text-white",children:"Loading admin logs..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Admin Activity Logs"}),e.jsx("button",{onClick:a,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"Refresh"})]}),e.jsx("div",{className:"bg-neutral-800 rounded-xl border border-gray-700",children:e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:t.map(l=>{var c;return e.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-neutral-700/50 rounded-lg",children:[o(l.action),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"text-white font-medium",children:l.action}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i(l.targetType)}`,children:l.targetType})]}),e.jsx("p",{className:"text-gray-300 text-sm mb-2",children:l.details}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-400",children:[e.jsxs("span",{children:["By: ",l.adminEmail]}),e.jsx("span",{children:""}),e.jsx("span",{children:(c=l.timestamp)!=null&&c.toDate?l.timestamp.toDate().toLocaleString():new Date(l.timestamp).toLocaleString()})]})]})]},l.id)})})})}),t.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Activity Logs"}),e.jsx("p",{className:"text-gray-400",children:"No admin actions have been logged yet."})]})]})},Ai=()=>{I();const[t,s]=g.useState("users"),[r,n]=g.useState(0),[a,o]=g.useState(0),[i,l]=g.useState(0);g.useEffect(()=>{if(!T)return;const h=Q(F(T,"hostRequests"),X("status","==","pending")),m=ke(h,w=>{n(w.size)}),x=Q(F(T,"events"),X("status","==","pending")),v=ke(x,w=>{o(w.size)}),f=Q(F(T,"users"),X("isVerified","==",!1)),y=ke(f,w=>{l(w.size)});return()=>{m(),v(),y()}},[]);const c=[{id:"users",name:"User Management",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),component:e.jsx(Ei,{}),count:i},{id:"events",name:"Event Management",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),component:e.jsx(Li,{}),count:a},{id:"requests",name:"Host Requests",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),component:e.jsx(Ti,{}),count:r},{id:"logs",name:"Activity Logs",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),component:e.jsx(Ri,{})}],u=c.find(h=>h.id===t);return e.jsx("section",{id:"admin-panel",className:"py-16 bg-black scroll-mt-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Admin Control Panel"}),e.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto mb-6",children:"Manage users, events, host requests, and monitor system activity"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-gray-700",children:e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:c.map(h=>e.jsxs("button",{onClick:()=>s(h.id),className:`relative flex items-center space-x-2 py-4 px-4 border-b-2 font-medium text-sm whitespace-nowrap transition-all duration-200 ${t===h.id?"border-purple-500 text-purple-400":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[h.icon,e.jsx("span",{children:h.name})]}),h.count!==void 0&&h.count>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full min-w-[20px] h-5 flex items-center justify-center px-1.5 shadow-lg border-2 border-black",children:h.count>99?"99+":h.count})]},h.id))})})}),e.jsx("div",{className:"min-h-[600px]",children:u==null?void 0:u.component}),e.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-neutral-800 rounded-xl p-6 border border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"Admin"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Control Panel"})]}),e.jsx("div",{className:"w-12 h-12 bg-red-600/20 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]})}),e.jsx("div",{className:"bg-neutral-800 rounded-xl p-6 border border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"System"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Management"})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-600/20 rounded-lg flex items-center justify-center",children:e.jsxs("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})}),e.jsx("div",{className:"bg-neutral-800 rounded-xl p-6 border border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"Security"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Monitoring"})]}),e.jsx("div",{className:"w-12 h-12 bg-green-600/20 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]})}),e.jsx("div",{className:"bg-neutral-800 rounded-xl p-6 border border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:"Platform"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Health"})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-600/20 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})]})})]})]})})},Di=()=>{const{user:t,userData:s,loading:r}=I(),[n,a]=g.useState(null),[o,i]=g.useState("");g.useEffect(()=>{const u=()=>{const h=document.getElementById("explore-events"),m=document.getElementById("my-dashboard");if(!h||!m)return;const x=window.scrollY,v=h.offsetTop-100,f=m.offsetTop-100;x>=f?a("my-dashboard"):x>=v?a("explore"):a(null)};return window.addEventListener("scroll",u),u(),()=>window.removeEventListener("scroll",u)},[]);const l=u=>{if(a(u),u==="explore"){const h=document.getElementById("explore-events");h&&h.scrollIntoView({behavior:"smooth",block:"start"})}else if(u==="my-dashboard"){const h=document.getElementById("my-dashboard");h&&h.scrollIntoView({behavior:"smooth",block:"start"})}},c=u=>{i(u),u.trim()&&l("explore")};return r?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),e.jsx("p",{children:"Loading dashboard..."})]})}):(s==null?void 0:s.role)==="admin"?e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx(rs,{onNavigate:l,currentView:n,onSearch:c}),e.jsx(Ai,{})]}):e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx(rs,{onNavigate:l,currentView:n,onSearch:c}),e.jsx(Gs,{isAuthenticated:!0,showButtons:!1}),e.jsx("section",{id:"explore-events",children:e.jsx(wi,{searchQuery:o})}),e.jsxs("section",{id:"my-dashboard",children:[(s==null?void 0:s.role)==="user"&&e.jsx(Ni,{}),(s==null?void 0:s.role)==="host"&&e.jsx(ki,{})]})]})},_i=async(t,s,r)=>{if(!Oe)throw new Error("Firebase Storage not initialized");if(t.type!=="application/pdf")throw new Error("Only PDF files are allowed");const n=10*1024*1024;if(t.size>n)throw new Error("File size must be less than 10MB");try{r==null||r({progress:0,isUploading:!0,error:null,downloadURL:null});const a=Qa(Oe,s);r==null||r({progress:50,isUploading:!0,error:null,downloadURL:null});const o=await Ja(a,t);r==null||r({progress:90,isUploading:!0,error:null,downloadURL:null});const i=await Ga(o.ref);return r==null||r({progress:100,isUploading:!1,error:null,downloadURL:i}),i}catch(a){const o=a instanceof Error?a.message:"Upload failed";throw r==null||r({progress:0,isUploading:!1,error:o,downloadURL:null}),new Error(o)}},mr=(t,s)=>{const r=Date.now();return`${t}/${s}_${r}.pdf`},Bi=t=>{if(t.type!=="application/pdf")return{isValid:!1,error:"Only PDF files are allowed"};const s=10*1024*1024;return t.size>s?{isValid:!1,error:"File size must be less than 10MB"}:t.name.toLowerCase().endsWith(".pdf")?{isValid:!0}:{isValid:!1,error:"File must have .pdf extension"}},Pi=t=>{if(t===0)return"0 Bytes";const s=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(t)/Math.log(s));return parseFloat((t/Math.pow(s,n)).toFixed(2))+" "+r[n]},xr=({label:t,onUploadComplete:s,onUploadError:r,storagePath:n,required:a=!1,disabled:o=!1})=>{const[i,l]=g.useState(null),[c,u]=g.useState({progress:0,isUploading:!1,error:null,downloadURL:null}),[h,m]=g.useState(!1),x=g.useRef(null),v=k=>{const N=Bi(k);if(!N.isValid){u(C=>({...C,error:N.error||"Invalid file"})),r==null||r(N.error||"Invalid file");return}l(k),u({progress:0,isUploading:!1,error:null,downloadURL:null}),f(k)},f=async k=>{try{const N=await _i(k,n,u);s(N)}catch(N){const C=N instanceof Error?N.message:"Upload failed";r==null||r(C)}},y=k=>{var C;const N=(C=k.target.files)==null?void 0:C[0];N&&v(N)},w=k=>{k.preventDefault(),m(!0)},p=k=>{k.preventDefault(),m(!1)},d=k=>{k.preventDefault(),m(!1);const N=k.dataTransfer.files;N.length>0&&v(N[0])},b=()=>{var k;!o&&!c.isUploading&&((k=x.current)==null||k.click())},j=()=>{l(null),u({progress:0,isUploading:!1,error:null,downloadURL:null}),x.current&&(x.current.value="")};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-white",children:[t,a&&e.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),e.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 cursor-pointer ${h?"border-purple-400 bg-purple-900/20":c.error?"border-red-400 bg-red-900/20":c.downloadURL?"border-green-400 bg-green-900/20":"border-gray-600 bg-neutral-800 hover:border-purple-500 hover:bg-purple-900/10"} ${o?"opacity-50 cursor-not-allowed":""}`,onDragOver:w,onDragLeave:p,onDrop:d,onClick:b,children:[e.jsx("input",{ref:x,type:"file",accept:".pdf,application/pdf",onChange:y,className:"hidden",disabled:o||c.isUploading}),c.isUploading?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto",children:e.jsx("svg",{className:"w-6 h-6 text-purple-400 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Uploading..."}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${c.progress}%`}})}),e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[c.progress,"%"]})]})]}):c.downloadURL?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-600/20 rounded-full flex items-center justify-center mx-auto",children:e.jsx("svg",{className:"w-6 h-6 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-400 font-medium",children:"Upload Complete!"}),i&&e.jsxs("div",{className:"text-gray-300 text-sm mt-1",children:[e.jsx("p",{children:i.name}),e.jsx("p",{children:Pi(i.size)})]}),e.jsx("button",{onClick:k=>{k.stopPropagation(),j()},className:"text-red-400 hover:text-red-300 text-sm mt-2 underline",children:"Remove file"})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-600/20 rounded-full flex items-center justify-center mx-auto",children:e.jsx("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:h?"Drop PDF file here":"Upload PDF file"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Drag & drop or click to browse  PDF only  Max 10MB"})]})]})]}),c.error&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-400 text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:c.error})]})]})},Mi=()=>{const t=$(),{user:s,userData:r}=I(),[n,a]=g.useState(!1),[o,i]=g.useState({title:"",description:"",date:"",time:"",locationName:"",price:0,seatsLeft:0,bannerURL:"",venueProofPDF:""}),[l,c]=g.useState({});ns.useEffect(()=>{r&&r.role!=="host"&&t("/dashboard")},[r,t]);const u=f=>{const{name:y,value:w}=f.target;i(p=>({...p,[y]:y==="price"||y==="seatsLeft"?Number(w):w})),l[y]&&c(p=>({...p,[y]:void 0}))},h=f=>{i(y=>({...y,venueProofPDF:f})),l.venueProofPDF&&c(y=>({...y,venueProofPDF:void 0}))},m=f=>{c(y=>({...y,venueProofPDF:f}))},x=()=>{const f={};if(o.title.trim()||(f.title="Title is required"),o.description.trim()||(f.description="Description is required"),!o.date)f.date="Date is required";else{const y=new Date(o.date),w=new Date;w.setHours(0,0,0,0),y<w&&(f.date="Event date cannot be in the past")}return o.time||(f.time="Time is required"),o.locationName.trim()||(f.locationName="Location is required"),o.price<0&&(f.price="Price cannot be negative"),o.seatsLeft<=0&&(f.seatsLeft="Seats must be greater than 0"),o.venueProofPDF||(f.venueProofPDF="Venue booking proof is required"),c(f),Object.keys(f).length===0},v=async f=>{if(f.preventDefault(),!(!s||!x())){a(!0);try{await bt(F(T,"events"),{title:o.title,description:o.description,date:o.date,time:o.time,location:o.locationName,locationName:o.locationName,price:o.price,capacity:o.seatsLeft,seatsLeft:o.seatsLeft,image:o.bannerURL||"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=400",bannerURL:o.bannerURL,venueProofPDF:o.venueProofPDF,hostId:s.uid,status:"pending",ticketsSold:0,revenue:0,tags:[],createdAt:U.now(),updatedAt:U.now()}),alert("Event created successfully! It will be reviewed by admin before publishing."),t("/dashboard")}catch{alert("Failed to create event. Please try again.")}finally{a(!1)}}};return!s||(r==null?void 0:r.role)!=="host"?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-400",children:"Only hosts can create events."})]})}):e.jsx("div",{className:"min-h-screen bg-black py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Create New Event"}),e.jsx("p",{className:"text-xl text-gray-400",children:"Fill out the details below to create your event"})]}),e.jsxs("form",{onSubmit:v,className:"space-y-8",children:[e.jsx("div",{className:"bg-neutral-800 rounded-xl p-8 border border-gray-700",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Event Title ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",name:"title",value:o.title,onChange:u,className:"w-full px-4 py-3 bg-neutral-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter event title",required:!0}),l.title&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.title})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Description ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("textarea",{name:"description",value:o.description,onChange:u,rows:4,className:"w-full px-4 py-3 bg-neutral-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Describe your event",required:!0}),l.description&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.description})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Date ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"date",name:"date",value:o.date,onChange:u,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 bg-neutral-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),l.date&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.date})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Time ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"time",name:"time",value:o.time,onChange:u,className:"w-full px-4 py-3 bg-neutral-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0}),l.time&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.time})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Location ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",name:"locationName",value:o.locationName,onChange:u,className:"w-full px-4 py-3 bg-neutral-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter venue location",required:!0}),l.locationName&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.locationName})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Ticket Price ($) ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"number",name:"price",value:o.price,onChange:u,min:"0",step:"0.01",className:"w-full px-4 py-3 bg-neutral-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"0.00",required:!0}),l.price&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.price})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Available Seats ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"number",name:"seatsLeft",value:o.seatsLeft,onChange:u,min:"1",className:"w-full px-4 py-3 bg-neutral-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"100",required:!0}),l.seatsLeft&&e.jsx("p",{className:"text-red-400 text-sm mt-1",children:l.seatsLeft})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Event Banner URL (Optional)"}),e.jsx("input",{type:"url",name:"bannerURL",value:o.bannerURL,onChange:u,className:"w-full px-4 py-3 bg-neutral-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"https://example.com/banner.jpg"})]})]})}),e.jsxs("div",{className:"bg-neutral-800 rounded-xl p-8 border border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Required Documents"}),e.jsx(xr,{label:"Upload Venue Booking Proof (PDF only)",onUploadComplete:h,onUploadError:m,storagePath:mr("venueProofs",(s==null?void 0:s.uid)||"unknown"),required:!0,disabled:n}),l.venueProofPDF&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:l.venueProofPDF})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>t("/dashboard"),className:"px-8 py-3 border border-gray-600 text-gray-300 rounded-lg hover:bg-gray-700 transition-colors duration-200",disabled:n,children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:n||!o.venueProofPDF,className:"group relative px-8 py-3 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500 hover:from-emerald-400 hover:via-teal-400 hover:to-cyan-400 text-white font-bold rounded-xl transition-all duration-300 transform hover:scale-110 shadow-xl border-2 border-emerald-400/30 hover:border-emerald-300/50 shadow-emerald-500/25 hover:shadow-emerald-400/40 tracking-wide disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:scale-100",children:[e.jsx("div",{className:"flex items-center space-x-2",children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Creating Event..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 drop-shadow-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 4v16m8-8H4"})}),e.jsx("span",{children:"Create Event"})]})}),!n&&!!o.venueProofPDF&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 rounded-xl opacity-0 group-hover:opacity-30 transition-opacity duration-300 bg-gradient-to-r from-emerald-300 via-teal-300 to-cyan-300 blur-sm"}),e.jsxs("div",{className:"absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[e.jsx("div",{className:"absolute top-1 right-1 w-1 h-1 bg-white rounded-full animate-pulse"}),e.jsx("div",{className:"absolute bottom-1 left-1 w-1 h-1 bg-white rounded-full animate-pulse delay-300"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-0.5 h-0.5 bg-white rounded-full animate-pulse delay-150"})]})]})]})]})]})]})})},Ii=()=>{const t=$(),{user:s,userData:r}=I(),[n,a]=g.useState(!1),[o,i]=g.useState({reason:"",experience:"",licensePDF:""}),[l,c]=g.useState({});ns.useEffect(()=>{r&&r.role!=="user"&&t("/dashboard")},[r,t]);const u=f=>{const{name:y,value:w}=f.target;i(p=>({...p,[y]:w})),l[y]&&c(p=>({...p,[y]:void 0}))},h=f=>{i(y=>({...y,licensePDF:f})),l.licensePDF&&c(y=>({...y,licensePDF:void 0}))},m=f=>{c(y=>({...y,licensePDF:f}))},x=()=>{const f={};return o.reason.trim()?o.reason.trim().length<50&&(f.reason="Please provide at least 50 characters explaining your reason"):f.reason="Please explain why you want to become a host",o.experience.trim()?o.experience.trim().length<30&&(f.experience="Please provide at least 30 characters describing your experience"):f.experience="Please describe your event management experience",o.licensePDF||(f.licensePDF="Event Manager License is required"),c(f),Object.keys(f).length===0},v=async f=>{var y;if(f.preventDefault(),!(!s||!x())){a(!0);try{await bt(F(T,"hostRequests"),{userId:s.uid,displayName:s.displayName||((y=s.email)==null?void 0:y.split("@")[0])||"Unknown User",email:s.email,reason:o.reason.trim(),experience:o.experience.trim(),licensePDF:o.licensePDF,status:"pending",createdAt:U.now()}),alert("Host request submitted successfully! We will review your application and get back to you soon."),t("/dashboard")}catch(w){console.error("Error submitting host request:",w),alert("Failed to submit host request. Please try again.")}finally{a(!1)}}};return!s||(r==null?void 0:r.role)!=="user"?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),e.jsx("p",{className:"text-gray-400",children:"Only regular users can request to become hosts."})]})}):e.jsx("div",{className:"min-h-screen bg-black py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Request to Become a Host"}),e.jsx("p",{className:"text-xl text-gray-400",children:"Join our community of event organizers and start hosting amazing events"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-900/50 to-blue-900/50 rounded-xl p-8 border border-purple-500/20 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Why Become a Host?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Reach More People"}),e.jsx("p",{className:"text-purple-200 text-sm",children:"Connect with thousands of potential attendees"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Monetize Events"}),e.jsx("p",{className:"text-blue-200 text-sm",children:"Sell tickets and generate revenue from your events"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Analytics & Insights"}),e.jsx("p",{className:"text-green-200 text-sm",children:"Track performance and optimize your events"})]})]})]}),e.jsxs("form",{onSubmit:v,className:"space-y-8",children:[e.jsxs("div",{className:"bg-neutral-800 rounded-xl p-8 border border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Tell Us About Yourself"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Why do you want to become a host? ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("textarea",{name:"reason",value:o.reason,onChange:u,rows:4,className:"w-full px-4 py-3 bg-neutral-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Explain your motivation for hosting events, your goals, and what you hope to achieve...",required:!0}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[l.reason&&e.jsx("p",{className:"text-red-400 text-sm",children:l.reason}),e.jsxs("p",{className:"text-gray-400 text-sm ml-auto",children:[o.reason.length,"/50 minimum"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Describe your event management experience ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("textarea",{name:"experience",value:o.experience,onChange:u,rows:4,className:"w-full px-4 py-3 bg-neutral-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Share your experience organizing events, managing teams, working with venues, etc...",required:!0}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[l.experience&&e.jsx("p",{className:"text-red-400 text-sm",children:l.experience}),e.jsxs("p",{className:"text-gray-400 text-sm ml-auto",children:[o.experience.length,"/30 minimum"]})]})]})]}),e.jsxs("div",{className:"bg-neutral-800 rounded-xl p-8 border border-gray-700",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Required Documentation"}),e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-400 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-yellow-400 font-medium",children:"Event Manager License Required"}),e.jsx("p",{className:"text-yellow-200 text-sm mt-1",children:"Please upload a valid Event Manager License or certification. This helps us verify your qualifications to host events safely and professionally."})]})]})}),e.jsx(xr,{label:"Upload Event Manager License (PDF only)",onUploadComplete:h,onUploadError:m,storagePath:mr("licenseProofs",(s==null?void 0:s.uid)||"unknown"),required:!0,disabled:n}),l.licensePDF&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:l.licensePDF})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>t("/dashboard"),className:"px-8 py-3 border border-gray-600 text-gray-300 rounded-lg hover:bg-gray-700 transition-colors duration-200",disabled:n,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n||!o.licensePDF,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-bold rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:n?"Submitting Request...":"Submit Host Request"})]})]})]})})},Ui=()=>{const{user:t}=I(),s=$(),[r,n]=g.useState(!1),[a,o]=g.useState(0),[i,l]=g.useState(!1);g.useEffect(()=>{var x,v;if(t!=null&&t.emailVerified||((v=(x=t==null?void 0:t.providerData)==null?void 0:x[0])==null?void 0:v.providerId)==="google.com"){s("/dashboard");return}if(!t){s("/login");return}const m=localStorage.getItem("emailVerificationSent");if(m){const f=Date.now()-parseInt(m),y=Math.max(0,6e4-f);y>0&&o(Math.ceil(y/1e3))}},[t,s]),g.useEffect(()=>{if(a>0){const m=setTimeout(()=>{o(a-1)},1e3);return()=>clearTimeout(m)}},[a]);const c=async()=>{if(!(!t||a>0)){n(!0);try{await is(t),localStorage.setItem("emailVerificationSent",Date.now().toString()),o(60),alert("Verification email sent! Please check your inbox.")}catch(m){console.error("Error sending verification email:",m),alert(`Failed to send verification email: ${m.message}`)}finally{n(!1)}}},u=async()=>{if(t){l(!0);try{await os(t),t.emailVerified?s("/dashboard"):alert("Email not yet verified. Please check your inbox and click the verification link.")}catch(m){console.error("Error checking verification status:",m),alert("Failed to check verification status. Please try again.")}finally{l(!1)}}},h=()=>{s("/login")};return t?e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-neutral-800 rounded-xl border border-gray-700 p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Verify Your Email"}),e.jsxs("p",{className:"text-gray-400",children:["We've sent a verification link to ",e.jsx("span",{className:"text-purple-400 font-medium",children:t.email})]})]}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"bg-neutral-700/50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-white font-medium mb-2",children:" Check Your Email"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"Click the verification link in the email we sent you to activate your account."})]}),e.jsxs("div",{className:"bg-neutral-700/50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-white font-medium mb-2",children:" Check Spam Folder"}),e.jsx("p",{className:"text-gray-300 text-sm",children:"If you don't see the email, please check your spam or junk folder."})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:u,disabled:i,className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-purple-600/50 text-white font-medium py-3 rounded-lg transition-colors duration-200",children:i?"Checking...":"I've Verified My Email"}),e.jsx("button",{onClick:c,disabled:r||a>0,className:"w-full bg-neutral-700 hover:bg-neutral-600 disabled:bg-neutral-700/50 text-white font-medium py-3 rounded-lg transition-colors duration-200",children:r?"Sending...":a>0?`Resend in ${a}s`:"Resend Verification Email"}),e.jsx("button",{onClick:h,className:"w-full text-gray-400 hover:text-white font-medium py-3 transition-colors duration-200",children:"Back to Login"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700",children:e.jsxs("p",{className:"text-gray-400 text-sm text-center",children:["Having trouble? Contact support at"," ",e.jsx("a",{href:"mailto:support@tickzy.com",className:"text-purple-400 hover:text-purple-300",children:"support@tickzy.com"})]})})]})})}):null},Fi=()=>{const{bookingId:t}=wn(),[s]=On(),r=s.get("event"),[n,a]=g.useState(null),[o,i]=g.useState(null),[l,c]=g.useState(!0),[u,h]=g.useState(null);if(g.useEffect(()=>{(async()=>{if(!t){h("Invalid ticket - missing booking ID"),c(!1);return}try{const p=await li(t);if(!p){h("Ticket not found - invalid booking ID"),c(!1);return}if(a(p),r){const d=await oi(r);i(d)}c(!1)}catch(p){console.error("Error fetching ticket data:",p),h("Failed to verify ticket"),c(!1)}})()},[t,r]),l)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),e.jsx("p",{className:"text-white",children:"Verifying ticket..."})]})});if(u||!n)return e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md mx-auto text-center p-6",children:[e.jsx("div",{className:"w-20 h-20 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-10 h-10 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Invalid Ticket"}),e.jsx("p",{className:"text-gray-400 mb-6",children:u}),e.jsx("a",{href:"/",className:"inline-block bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200",children:"Go to Homepage"})]})});const m=n.status==="booked"||n.status==="confirmed",x=new Date(n.eventDate),v=new Date,f=x.toDateString()===v.toDateString(),y=x<v;return e.jsx("div",{className:"min-h-screen bg-black py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 ${m?"bg-green-600/20":"bg-red-600/20"}`,children:m?e.jsx("svg",{className:"w-10 h-10 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):e.jsx("svg",{className:"w-10 h-10 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h1",{className:`text-3xl font-bold mb-2 ${m?"text-green-400":"text-red-400"}`,children:m?"Valid Ticket":"Invalid Ticket"}),e.jsx("p",{className:"text-gray-400",children:m?"This ticket is verified and valid for entry":"This ticket cannot be used for entry"})]}),e.jsxs("div",{className:"bg-neutral-800 rounded-xl border border-gray-700 overflow-hidden",children:[n.eventImage&&e.jsxs("div",{className:"h-48 relative",children:[e.jsx("img",{src:n.eventImage,alt:n.eventTitle,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.eventTitle}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("span",{children:[new Date(n.eventDate).toLocaleDateString()," at ",n.eventTime]})]}),e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsxs("svg",{className:"w-5 h-5 mr-3 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:n.eventLocation})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),e.jsxs("span",{children:[n.ticketCount," ticket",n.ticketCount!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),e.jsxs("span",{children:["$",n.totalAmount]})]})]})]}),e.jsx("div",{className:"border-t border-gray-700 pt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Booking ID:"}),e.jsx("span",{className:"text-white ml-2 font-mono",children:n.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Booked by:"}),e.jsx("span",{className:"text-white ml-2",children:n.userName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Booking Date:"}),e.jsx("span",{className:"text-white ml-2",children:new Date(n.bookingDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Status:"}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${n.status==="booked"||n.status==="confirmed"?"bg-green-600/20 text-green-400":n.status==="cancelled"?"bg-red-600/20 text-red-400":"bg-yellow-600/20 text-yellow-400"}`,children:n.status.charAt(0).toUpperCase()+n.status.slice(1)})]})]})}),y&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-600/20 border border-yellow-600/30 rounded-lg",children:e.jsx("p",{className:"text-yellow-400 text-sm",children:" This event has already ended."})}),f&&!y&&e.jsx("div",{className:"mt-4 p-3 bg-green-600/20 border border-green-600/30 rounded-lg",children:e.jsx("p",{className:"text-green-400 text-sm",children:" This event is happening today!"})})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("a",{href:"/",className:"inline-block bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors duration-200",children:"Back to Tickzy"})})]})})},zi=()=>{const t=$();return e.jsx("footer",{className:"bg-neutral-900 text-white border-t border-gray-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("span",{className:"text-3xl font-bold text-white tracking-wide",children:"Tickzy"})}),e.jsx("p",{className:"text-gray-400 mb-6 max-w-md leading-relaxed",children:"Your trusted platform for discovering and booking amazing events. From local concerts to international conferences, we connect you with experiences that matter."}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-purple-400 transition-colors duration-200","aria-label":"Facebook",children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-blue-400 transition-colors duration-200","aria-label":"Twitter",children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-purple-400 transition-colors duration-200","aria-label":"Instagram",children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.988 11.987 6.62 0 11.987-5.367 11.987-11.987C24.014 5.367 18.637.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.323-1.297C4.198 14.895 3.708 13.744 3.708 12.447s.49-2.448 1.297-3.323C5.902 8.198 7.053 7.708 8.35 7.708s2.448.49 3.323 1.297c.897.875 1.387 2.026 1.387 3.323s-.49 2.448-1.297 3.323c-.875.897-2.026 1.387-3.323 1.387zm7.718 0c-1.297 0-2.448-.49-3.323-1.297-.897-.875-1.387-2.026-1.387-3.323s.49-2.448 1.297-3.323c.875-.897 2.026-1.387 3.323-1.387s2.448.49 3.323 1.297c.897.875 1.387 2.026 1.387 3.323s-.49 2.448-1.297 3.323c-.875.897-2.026 1.387-3.323 1.387z"})})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-blue-400 transition-colors duration-200","aria-label":"LinkedIn",children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-6 text-white",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Browse Events"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Create Event"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Pricing"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Help Center"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-6 text-white",children:"Support"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>t("/about"),className:"text-gray-400 hover:text-white transition-colors duration-200",children:"About"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>t("/contact"),className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Contact"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>t("/privacy"),className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Privacy"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>t("/terms"),className:"text-gray-400 hover:text-white transition-colors duration-200",children:"Terms of Service"})})]})]})]}),e.jsxs("div",{className:"border-t border-gray-800 mt-12 pt-8 flex flex-col md:flex-row justify-between items-center",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 Tickzy. All rights reserved."}),e.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[e.jsx("button",{onClick:()=>t("/privacy"),className:"text-gray-400 hover:text-white text-sm transition-colors duration-200",children:"Privacy"}),e.jsx("button",{onClick:()=>t("/terms"),className:"text-gray-400 hover:text-white text-sm transition-colors duration-200",children:"Terms"}),e.jsx("button",{onClick:()=>t("/contact"),className:"text-gray-400 hover:text-white text-sm transition-colors duration-200",children:"Contact"})]})]})]})})},Oi=()=>(be(),e.jsx(fo,{children:e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsxs(Mn,{children:[e.jsx(G,{path:"/",element:e.jsx(Zt,{children:e.jsx(xi,{})})}),e.jsx(G,{path:"/login",element:e.jsx(Zt,{children:e.jsx(pi,{})})}),e.jsx(G,{path:"/verify-email",element:e.jsx(Ui,{})}),e.jsx(G,{path:"/explore-events",element:e.jsx(fi,{})}),e.jsx(G,{path:"/ticket/:bookingId",element:e.jsx(Fi,{})}),e.jsx(G,{path:"/dashboard",element:e.jsx(rt,{children:e.jsx(Di,{})})}),e.jsx(G,{path:"/create-event",element:e.jsx(rt,{children:e.jsx(Mi,{})})}),e.jsx(G,{path:"/request-host",element:e.jsx(rt,{children:e.jsx(Ii,{})})})]}),e.jsx(zi,{})]})})),Vi=console.error;console.error=(...t)=>{const s=t.join(" ");s.includes("Cross-Origin-Opener-Policy")||s.includes("COOP")||s.includes("cross-origin-opener-policy")||Vi.apply(console,t)};const $i=()=>window.location.hostname==="sdraaaa.github.io"?"/Tickzy":"";ds(document.getElementById("root")).render(e.jsx(g.StrictMode,{children:e.jsx(zn,{basename:$i(),future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(Oi,{})})}));
